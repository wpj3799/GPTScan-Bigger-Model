

  .oooooo.    ooooooooo.   ooooooooooooo  .oooooo..o                                 
 d8P'  `Y8b   `888   `Y88. 8'   888   `8 d8P'    `Y8                                 
888            888   .d88'      888      Y88bo.       .ooooo.   .oooo.   ooo. .oo.   
888            888ooo88P'       888       `"Y8888o.  d88' `"Y8 `P  )88b  `888P"Y88b  
888     ooooo  888              888           `"Y88b 888        .oP"888   888   888  
`88.    .88'   888              888      oo     .d8P 888   .o8 d8(  888   888   888  
 `Y8bood8P'   o888o            o888o     8""88888P'  `Y8bod8P' `Y888""8o o888o o888o                                                        


                                                                   

[20:05:06] Loaded 10 rules                                                                                                                                                                             tasks.py:119
[12/08/24 20:05:06] ERROR    CryticCompile: Cannot execute `forge`, is it installed and in PATH?                                                                                                   subprocess.py:38
                    ERROR    CryticCompile: Cannot execute `forge`, is it installed and in PATH?                                                                                                   subprocess.py:38
           Traceback (most recent call last):                                                                                                                                                          tasks.py:126
             File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/.venv/lib/python3.10/site-packages/falcon/falcon.py", line 90, in __init__                                                                     
               crytic_compile = CryticCompile(target, **kwargs)                                                                                                                                                    
             File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/.venv/lib/python3.10/site-packages/crytic_compile/crytic_compile.py", line 131, in __init__                                                    
               self._compile(**kwargs)                                                                                                                                                                             
             File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/.venv/lib/python3.10/site-packages/crytic_compile/crytic_compile.py", line 553, in _compile                                                    
               self._platform.compile(self, **kwargs)                                                                                                                                                              
             File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/.venv/lib/python3.10/site-packages/crytic_compile/platform/foundry.py", line 67, in compile                                                    
               hardhat_like_parsing(crytic_compile, self._target, build_directory, self._target)                                                                                                                   
             File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/.venv/lib/python3.10/site-packages/crytic_compile/platform/hardhat.py", line 52, in hardhat_like_parsing                                       
               raise InvalidCompilation(txt)                                                                                                                                                                       
           crytic_compile.platform.exceptions.InvalidCompilation: Compilation failed. Can you run build command?                                                                                                   
           /home/owen/Documents/GitHub/GPTScan-Bigger-Model/datasets/code-423n4-Web3Bugs-data/2022-12-caviar-main/out/build-info is not a directory.                                                               
                                                                                                                                                                                                                   
           During handling of the above exception, another exception occurred:                                                                                                                                     
                                                                                                                                                                                                                   
           Traceback (most recent call last):                                                                                                                                                                      
             File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/src/tasks.py", line 124, in simple_cli                                                                                                         
               falcon_instance = compile_project(source_dir)                                                                                                                                                       
             File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/src/tasks.py", line 103, in compile_project                                                                                                    
               return falcon.Falcon(abs_path)                                                                                                                                                                      
             File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/.venv/lib/python3.10/site-packages/falcon/falcon.py", line 94, in __init__                                                                     
               raise FalconError(f"Invalid compilation: \n{str(e)}")                                                                                                                                               
           falcon.exceptions.FalconError: Invalid compilation:                                                                                                                                                     
           Compilation failed. Can you run build command?                                                                                                                                                          
           /home/owen/Documents/GitHub/GPTScan-Bigger-Model/datasets/code-423n4-Web3Bugs-data/2022-12-caviar-main/out/build-info is not a directory.                                                               
                                                                                                                                                                                                                   
           Compile failed.                                                                                                                                                                             tasks.py:127
           Since the compilation is failed, some static analysis tool may not be enabled, which may cause lower precision and recall.                                                                  tasks.py:128
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                    │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                │
│ Code:                                                                                                                                                                                                           │
│     function addQuote(uint256 baseTokenAmount, uint256 fractionalTokenAmount) public view returns (uint256) {                                                                                                   │
│         uint256 lpTokenSupply = lpToken.totalSupply();                                                                                                                                                          │
│         if (lpTokenSupply > 0) {                                                                                                                                                                                │
│             // calculate amount of lp tokens as a fraction of existing reserves                                                                                                                                 │
│             uint256 baseTokenShare = (baseTokenAmount * lpTokenSupply) / baseTokenReserves();                                                                                                                   │
│             uint256 fractionalTokenShare = (fractionalTokenAmount * lpTokenSupply) / fractionalTokenReserves();                                                                                                 │
│             return Math.min(baseTokenShare, fractionalTokenShare);                                                                                                                                              │
│         } else {                                                                                                                                                                                                │
│             // if there is no liquidity then init                                                                                                                                                               │
│             return Math.sqrt(baseTokenAmount * fractionalTokenAmount);                                                                                                                                          │
│         }                                                                                                                                                                                                       │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "Yes",                                                                                                                                                                                                 │
│     "2": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭──────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ─────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price based on the market reserves/AMMprice/exchangeRate OR the custom token balanceOf/totalSupply/amount/liquidity calculation          │
│ Code:                                                                                                                                                                                                           │
│     function addQuote(uint256 baseTokenAmount, uint256 fractionalTokenAmount) public view returns (uint256) {                                                                                                   │
│         uint256 lpTokenSupply = lpToken.totalSupply();                                                                                                                                                          │
│         if (lpTokenSupply > 0) {                                                                                                                                                                                │
│             // calculate amount of lp tokens as a fraction of existing reserves                                                                                                                                 │
│             uint256 baseTokenShare = (baseTokenAmount * lpTokenSupply) / baseTokenReserves();                                                                                                                   │
│             uint256 fractionalTokenShare = (fractionalTokenAmount * lpTokenSupply) / fractionalTokenReserves();                                                                                                 │
│             return Math.min(baseTokenShare, fractionalTokenShare);                                                                                                                                              │
│         } else {                                                                                                                                                                                                │
│             // if there is no liquidity then init                                                                                                                                                               │
│             return Math.sqrt(baseTokenAmount * fractionalTokenAmount);                                                                                                                                          │
│         }                                                                                                                                                                                                       │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Yes                                                                                                                                                                                                             │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                    │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                │
│ Code:                                                                                                                                                                                                           │
│     function add(uint256 baseTokenAmount, uint256 fractionalTokenAmount, uint256 minLpTokenAmount)                                                                                                              │
│         public                                                                                                                                                                                                  │
│         payable                                                                                                                                                                                                 │
│         returns (uint256 lpTokenAmount)                                                                                                                                                                         │
│     {                                                                                                                                                                                                           │
│         // *** Checks *** //                                                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         // check the token amount inputs are not zero                                                                                                                                                           │
│         require(baseTokenAmount > 0 && fractionalTokenAmount > 0, "Input token amount is zero");                                                                                                                │
│                                                                                                                                                                                                                 │
│         // check that correct eth input was sent - if the baseToken equals address(0) then native ETH is used                                                                                                   │
│         require(baseToken == address(0) ? msg.value == baseTokenAmount : msg.value == 0, "Invalid ether input");                                                                                                │
│                                                                                                                                                                                                                 │
│         // calculate the lp token shares to mint                                                                                                                                                                │
│         lpTokenAmount = addQuote(baseTokenAmount, fractionalTokenAmount);                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         // check that the amount of lp tokens outputted is greater than the min amount                                                                                                                          │
│         require(lpTokenAmount >= minLpTokenAmount, "Slippage: lp token amount out");                                                                                                                            │
│                                                                                                                                                                                                                 │
│         // *** Effects *** //                                                                                                                                                                                   │
│                                                                                                                                                                                                                 │
│         // transfer fractional tokens in                                                                                                                                                                        │
│         _transferFrom(msg.sender, address(this), fractionalTokenAmount);                                                                                                                                        │
│                                                                                                                                                                                                                 │
│         // *** Interactions *** //                                                                                                                                                                              │
│                                                                                                                                                                                                                 │
│         // mint lp tokens to sender                                                                                                                                                                             │
│         lpToken.mint(msg.sender, lpTokenAmount);                                                                                                                                                                │
│                                                                                                                                                                                                                 │
│         // transfer base tokens in if the base token is not ETH                                                                                                                                                 │
│         if (baseToken != address(0)) {                                                                                                                                                                          │
│             // transfer base tokens in                                                                                                                                                                          │
│             ERC20(baseToken).safeTransferFrom(msg.sender, address(this), baseTokenAmount);                                                                                                                      │
│         }                                                                                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         emit Add(baseTokenAmount, fractionalTokenAmount, lpTokenAmount);                                                                                                                                        │
│     }                                                                                                                                                                                                           │
│     function addQuote(uint256 baseTokenAmount, uint256 fractionalTokenAmount) public view returns (uint256) {                                                                                                   │
│         uint256 lpTokenSupply = lpToken.totalSupply();                                                                                                                                                          │
│         if (lpTokenSupply > 0) {                                                                                                                                                                                │
│             // calculate amount of lp tokens as a fraction of existing reserves                                                                                                                                 │
│             uint256 baseTokenShare = (baseTokenAmount * lpTokenSupply) / baseTokenReserves();                                                                                                                   │
│             uint256 fractionalTokenShare = (fractionalTokenAmount * lpTokenSupply) / fractionalTokenReserves();                                                                                                 │
│             return Math.min(baseTokenShare, fractionalTokenShare);                                                                                                                                              │
│         } else {                                                                                                                                                                                                │
│             // if there is no liquidity then init                                                                                                                                                               │
│             return Math.sqrt(baseTokenAmount * fractionalTokenAmount);                                                                                                                                          │
│         }                                                                                                                                                                                                       │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "Yes",                                                                                                                                                                                                 │
│     "2": "Yes"                                                                                                                                                                                                  │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭──────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ─────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price based on the market reserves/AMMprice/exchangeRate OR the custom token balanceOf/totalSupply/amount/liquidity calculation          │
│ Code:                                                                                                                                                                                                           │
│     function add(uint256 baseTokenAmount, uint256 fractionalTokenAmount, uint256 minLpTokenAmount)                                                                                                              │
│         public                                                                                                                                                                                                  │
│         payable                                                                                                                                                                                                 │
│         returns (uint256 lpTokenAmount)                                                                                                                                                                         │
│     {                                                                                                                                                                                                           │
│         // *** Checks *** //                                                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         // check the token amount inputs are not zero                                                                                                                                                           │
│         require(baseTokenAmount > 0 && fractionalTokenAmount > 0, "Input token amount is zero");                                                                                                                │
│                                                                                                                                                                                                                 │
│         // check that correct eth input was sent - if the baseToken equals address(0) then native ETH is used                                                                                                   │
│         require(baseToken == address(0) ? msg.value == baseTokenAmount : msg.value == 0, "Invalid ether input");                                                                                                │
│                                                                                                                                                                                                                 │
│         // calculate the lp token shares to mint                                                                                                                                                                │
│         lpTokenAmount = addQuote(baseTokenAmount, fractionalTokenAmount);                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         // check that the amount of lp tokens outputted is greater than the min amount                                                                                                                          │
│         require(lpTokenAmount >= minLpTokenAmount, "Slippage: lp token amount out");                                                                                                                            │
│                                                                                                                                                                                                                 │
│         // *** Effects *** //                                                                                                                                                                                   │
│                                                                                                                                                                                                                 │
│         // transfer fractional tokens in                                                                                                                                                                        │
│         _transferFrom(msg.sender, address(this), fractionalTokenAmount);                                                                                                                                        │
│                                                                                                                                                                                                                 │
│         // *** Interactions *** //                                                                                                                                                                              │
│                                                                                                                                                                                                                 │
│         // mint lp tokens to sender                                                                                                                                                                             │
│         lpToken.mint(msg.sender, lpTokenAmount);                                                                                                                                                                │
│                                                                                                                                                                                                                 │
│         // transfer base tokens in if the base token is not ETH                                                                                                                                                 │
│         if (baseToken != address(0)) {                                                                                                                                                                          │
│             // transfer base tokens in                                                                                                                                                                          │
│             ERC20(baseToken).safeTransferFrom(msg.sender, address(this), baseTokenAmount);                                                                                                                      │
│         }                                                                                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         emit Add(baseTokenAmount, fractionalTokenAmount, lpTokenAmount);                                                                                                                                        │
│     }                                                                                                                                                                                                           │
│     function addQuote(uint256 baseTokenAmount, uint256 fractionalTokenAmount) public view returns (uint256) {                                                                                                   │
│         uint256 lpTokenSupply = lpToken.totalSupply();                                                                                                                                                          │
│         if (lpTokenSupply > 0) {                                                                                                                                                                                │
│             // calculate amount of lp tokens as a fraction of existing reserves                                                                                                                                 │
│             uint256 baseTokenShare = (baseTokenAmount * lpTokenSupply) / baseTokenReserves();                                                                                                                   │
│             uint256 fractionalTokenShare = (fractionalTokenAmount * lpTokenSupply) / fractionalTokenReserves();                                                                                                 │
│             return Math.min(baseTokenShare, fractionalTokenShare);                                                                                                                                              │
│         } else {                                                                                                                                                                                                │
│             // if there is no liquidity then init                                                                                                                                                               │
│             return Math.sqrt(baseTokenAmount * fractionalTokenAmount);                                                                                                                                          │
│         }                                                                                                                                                                                                       │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Yes                                                                                                                                                                                                             │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭──────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ─────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: deposit/mint/add the liquidity pool/amount/share and set the total share to the number of first deposit when the supply/liquidity is 0                                                               │
│ Code:                                                                                                                                                                                                           │
│     function add(uint256 baseTokenAmount, uint256 fractionalTokenAmount, uint256 minLpTokenAmount)                                                                                                              │
│         public                                                                                                                                                                                                  │
│         payable                                                                                                                                                                                                 │
│         returns (uint256 lpTokenAmount)                                                                                                                                                                         │
│     {                                                                                                                                                                                                           │
│         // *** Checks *** //                                                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         // check the token amount inputs are not zero                                                                                                                                                           │
│         require(baseTokenAmount > 0 && fractionalTokenAmount > 0, "Input token amount is zero");                                                                                                                │
│                                                                                                                                                                                                                 │
│         // check that correct eth input was sent - if the baseToken equals address(0) then native ETH is used                                                                                                   │
│         require(baseToken == address(0) ? msg.value == baseTokenAmount : msg.value == 0, "Invalid ether input");                                                                                                │
│                                                                                                                                                                                                                 │
│         // calculate the lp token shares to mint                                                                                                                                                                │
│         lpTokenAmount = addQuote(baseTokenAmount, fractionalTokenAmount);                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         // check that the amount of lp tokens outputted is greater than the min amount                                                                                                                          │
│         require(lpTokenAmount >= minLpTokenAmount, "Slippage: lp token amount out");                                                                                                                            │
│                                                                                                                                                                                                                 │
│         // *** Effects *** //                                                                                                                                                                                   │
│                                                                                                                                                                                                                 │
│         // transfer fractional tokens in                                                                                                                                                                        │
│         _transferFrom(msg.sender, address(this), fractionalTokenAmount);                                                                                                                                        │
│                                                                                                                                                                                                                 │
│         // *** Interactions *** //                                                                                                                                                                              │
│                                                                                                                                                                                                                 │
│         // mint lp tokens to sender                                                                                                                                                                             │
│         lpToken.mint(msg.sender, lpTokenAmount);                                                                                                                                                                │
│                                                                                                                                                                                                                 │
│         // transfer base tokens in if the base token is not ETH                                                                                                                                                 │
│         if (baseToken != address(0)) {                                                                                                                                                                          │
│             // transfer base tokens in                                                                                                                                                                          │
│             ERC20(baseToken).safeTransferFrom(msg.sender, address(this), baseTokenAmount);                                                                                                                      │
│         }                                                                                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         emit Add(baseTokenAmount, fractionalTokenAmount, lpTokenAmount);                                                                                                                                        │
│     }                                                                                                                                                                                                           │
│     function addQuote(uint256 baseTokenAmount, uint256 fractionalTokenAmount) public view returns (uint256) {                                                                                                   │
│         uint256 lpTokenSupply = lpToken.totalSupply();                                                                                                                                                          │
│         if (lpTokenSupply > 0) {                                                                                                                                                                                │
│             // calculate amount of lp tokens as a fraction of existing reserves                                                                                                                                 │
│             uint256 baseTokenShare = (baseTokenAmount * lpTokenSupply) / baseTokenReserves();                                                                                                                   │
│             uint256 fractionalTokenShare = (fractionalTokenAmount * lpTokenSupply) / fractionalTokenReserves();                                                                                                 │
│             return Math.min(baseTokenShare, fractionalTokenShare);                                                                                                                                              │
│         } else {                                                                                                                                                                                                │
│             // if there is no liquidity then init                                                                                                                                                               │
│             return Math.sqrt(baseTokenAmount * fractionalTokenAmount);                                                                                                                                          │
│         }                                                                                                                                                                                                       │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Yes                                                                                                                                                                                                             │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                    │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                │
│ Code:                                                                                                                                                                                                           │
│     function removeQuote(uint256 lpTokenAmount) public view returns (uint256, uint256) {                                                                                                                        │
│         uint256 lpTokenSupply = lpToken.totalSupply();                                                                                                                                                          │
│         uint256 baseTokenOutputAmount = (baseTokenReserves() * lpTokenAmount) / lpTokenSupply;                                                                                                                  │
│         uint256 fractionalTokenOutputAmount = (fractionalTokenReserves() * lpTokenAmount) / lpTokenSupply;                                                                                                      │
│                                                                                                                                                                                                                 │
│         return (baseTokenOutputAmount, fractionalTokenOutputAmount);                                                                                                                                            │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                    │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                │
│ Code:                                                                                                                                                                                                           │
│     function remove(uint256 lpTokenAmount, uint256 minBaseTokenOutputAmount, uint256 minFractionalTokenOutputAmount)                                                                                            │
│         public                                                                                                                                                                                                  │
│         returns (uint256 baseTokenOutputAmount, uint256 fractionalTokenOutputAmount)                                                                                                                            │
│     {                                                                                                                                                                                                           │
│         // *** Checks *** //                                                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         // calculate the output amounts                                                                                                                                                                         │
│         (baseTokenOutputAmount, fractionalTokenOutputAmount) = removeQuote(lpTokenAmount);                                                                                                                      │
│                                                                                                                                                                                                                 │
│         // check that the base token output amount is greater than the min amount                                                                                                                               │
│         require(baseTokenOutputAmount >= minBaseTokenOutputAmount, "Slippage: base token amount out");                                                                                                          │
│                                                                                                                                                                                                                 │
│         // check that the fractional token output amount is greater than the min amount                                                                                                                         │
│         require(fractionalTokenOutputAmount >= minFractionalTokenOutputAmount, "Slippage: fractional token out");                                                                                               │
│                                                                                                                                                                                                                 │
│         // *** Effects *** //                                                                                                                                                                                   │
│                                                                                                                                                                                                                 │
│         // transfer fractional tokens to sender                                                                                                                                                                 │
│         _transferFrom(address(this), msg.sender, fractionalTokenOutputAmount);                                                                                                                                  │
│                                                                                                                                                                                                                 │
│         // *** Interactions *** //                                                                                                                                                                              │
│                                                                                                                                                                                                                 │
│         // burn lp tokens from sender                                                                                                                                                                           │
│         lpToken.burn(msg.sender, lpTokenAmount);                                                                                                                                                                │
│                                                                                                                                                                                                                 │
│         if (baseToken == address(0)) {                                                                                                                                                                          │
│             // if base token is native ETH then send ether to sender                                                                                                                                            │
│             msg.sender.safeTransferETH(baseTokenOutputAmount);                                                                                                                                                  │
│         } else {                                                                                                                                                                                                │
│             // transfer base tokens to sender                                                                                                                                                                   │
│             ERC20(baseToken).safeTransfer(msg.sender, baseTokenOutputAmount);                                                                                                                                   │
│         }                                                                                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         emit Remove(baseTokenOutputAmount, fractionalTokenOutputAmount, lpTokenAmount);                                                                                                                         │
│     }                                                                                                                                                                                                           │
│     function removeQuote(uint256 lpTokenAmount) public view returns (uint256, uint256) {                                                                                                                        │
│         uint256 lpTokenSupply = lpToken.totalSupply();                                                                                                                                                          │
│         uint256 baseTokenOutputAmount = (baseTokenReserves() * lpTokenAmount) / lpTokenSupply;                                                                                                                  │
│         uint256 fractionalTokenOutputAmount = (fractionalTokenReserves() * lpTokenAmount) / lpTokenSupply;                                                                                                      │
│                                                                                                                                                                                                                 │
│         return (baseTokenOutputAmount, fractionalTokenOutputAmount);                                                                                                                                            │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "Yes",                                                                                                                                                                                                 │
│     "2": "Yes"                                                                                                                                                                                                  │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭──────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ─────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price based on the market reserves/AMMprice/exchangeRate OR the custom token balanceOf/totalSupply/amount/liquidity calculation          │
│ Code:                                                                                                                                                                                                           │
│     function remove(uint256 lpTokenAmount, uint256 minBaseTokenOutputAmount, uint256 minFractionalTokenOutputAmount)                                                                                            │
│         public                                                                                                                                                                                                  │
│         returns (uint256 baseTokenOutputAmount, uint256 fractionalTokenOutputAmount)                                                                                                                            │
│     {                                                                                                                                                                                                           │
│         // *** Checks *** //                                                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         // calculate the output amounts                                                                                                                                                                         │
│         (baseTokenOutputAmount, fractionalTokenOutputAmount) = removeQuote(lpTokenAmount);                                                                                                                      │
│                                                                                                                                                                                                                 │
│         // check that the base token output amount is greater than the min amount                                                                                                                               │
│         require(baseTokenOutputAmount >= minBaseTokenOutputAmount, "Slippage: base token amount out");                                                                                                          │
│                                                                                                                                                                                                                 │
│         // check that the fractional token output amount is greater than the min amount                                                                                                                         │
│         require(fractionalTokenOutputAmount >= minFractionalTokenOutputAmount, "Slippage: fractional token out");                                                                                               │
│                                                                                                                                                                                                                 │
│         // *** Effects *** //                                                                                                                                                                                   │
│                                                                                                                                                                                                                 │
│         // transfer fractional tokens to sender                                                                                                                                                                 │
│         _transferFrom(address(this), msg.sender, fractionalTokenOutputAmount);                                                                                                                                  │
│                                                                                                                                                                                                                 │
│         // *** Interactions *** //                                                                                                                                                                              │
│                                                                                                                                                                                                                 │
│         // burn lp tokens from sender                                                                                                                                                                           │
│         lpToken.burn(msg.sender, lpTokenAmount);                                                                                                                                                                │
│                                                                                                                                                                                                                 │
│         if (baseToken == address(0)) {                                                                                                                                                                          │
│             // if base token is native ETH then send ether to sender                                                                                                                                            │
│             msg.sender.safeTransferETH(baseTokenOutputAmount);                                                                                                                                                  │
│         } else {                                                                                                                                                                                                │
│             // transfer base tokens to sender                                                                                                                                                                   │
│             ERC20(baseToken).safeTransfer(msg.sender, baseTokenOutputAmount);                                                                                                                                   │
│         }                                                                                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         emit Remove(baseTokenOutputAmount, fractionalTokenOutputAmount, lpTokenAmount);                                                                                                                         │
│     }                                                                                                                                                                                                           │
│     function removeQuote(uint256 lpTokenAmount) public view returns (uint256, uint256) {                                                                                                                        │
│         uint256 lpTokenSupply = lpToken.totalSupply();                                                                                                                                                          │
│         uint256 baseTokenOutputAmount = (baseTokenReserves() * lpTokenAmount) / lpTokenSupply;                                                                                                                  │
│         uint256 fractionalTokenOutputAmount = (fractionalTokenReserves() * lpTokenAmount) / lpTokenSupply;                                                                                                      │
│                                                                                                                                                                                                                 │
│         return (baseTokenOutputAmount, fractionalTokenOutputAmount);                                                                                                                                            │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Yes                                                                                                                                                                                                             │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭──────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ─────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: deposit/mint/add the liquidity pool/amount/share and set the total share to the number of first deposit when the supply/liquidity is 0                                                               │
│ Code:                                                                                                                                                                                                           │
│     function remove(uint256 lpTokenAmount, uint256 minBaseTokenOutputAmount, uint256 minFractionalTokenOutputAmount)                                                                                            │
│         public                                                                                                                                                                                                  │
│         returns (uint256 baseTokenOutputAmount, uint256 fractionalTokenOutputAmount)                                                                                                                            │
│     {                                                                                                                                                                                                           │
│         // *** Checks *** //                                                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         // calculate the output amounts                                                                                                                                                                         │
│         (baseTokenOutputAmount, fractionalTokenOutputAmount) = removeQuote(lpTokenAmount);                                                                                                                      │
│                                                                                                                                                                                                                 │
│         // check that the base token output amount is greater than the min amount                                                                                                                               │
│         require(baseTokenOutputAmount >= minBaseTokenOutputAmount, "Slippage: base token amount out");                                                                                                          │
│                                                                                                                                                                                                                 │
│         // check that the fractional token output amount is greater than the min amount                                                                                                                         │
│         require(fractionalTokenOutputAmount >= minFractionalTokenOutputAmount, "Slippage: fractional token out");                                                                                               │
│                                                                                                                                                                                                                 │
│         // *** Effects *** //                                                                                                                                                                                   │
│                                                                                                                                                                                                                 │
│         // transfer fractional tokens to sender                                                                                                                                                                 │
│         _transferFrom(address(this), msg.sender, fractionalTokenOutputAmount);                                                                                                                                  │
│                                                                                                                                                                                                                 │
│         // *** Interactions *** //                                                                                                                                                                              │
│                                                                                                                                                                                                                 │
│         // burn lp tokens from sender                                                                                                                                                                           │
│         lpToken.burn(msg.sender, lpTokenAmount);                                                                                                                                                                │
│                                                                                                                                                                                                                 │
│         if (baseToken == address(0)) {                                                                                                                                                                          │
│             // if base token is native ETH then send ether to sender                                                                                                                                            │
│             msg.sender.safeTransferETH(baseTokenOutputAmount);                                                                                                                                                  │
│         } else {                                                                                                                                                                                                │
│             // transfer base tokens to sender                                                                                                                                                                   │
│             ERC20(baseToken).safeTransfer(msg.sender, baseTokenOutputAmount);                                                                                                                                   │
│         }                                                                                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         emit Remove(baseTokenOutputAmount, fractionalTokenOutputAmount, lpTokenAmount);                                                                                                                         │
│     }                                                                                                                                                                                                           │
│     function removeQuote(uint256 lpTokenAmount) public view returns (uint256, uint256) {                                                                                                                        │
│         uint256 lpTokenSupply = lpToken.totalSupply();                                                                                                                                                          │
│         uint256 baseTokenOutputAmount = (baseTokenReserves() * lpTokenAmount) / lpTokenSupply;                                                                                                                  │
│         uint256 fractionalTokenOutputAmount = (fractionalTokenReserves() * lpTokenAmount) / lpTokenSupply;                                                                                                      │
│                                                                                                                                                                                                                 │
│         return (baseTokenOutputAmount, fractionalTokenOutputAmount);                                                                                                                                            │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ No                                                                                                                                                                                                              │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                    │
│ Code:                                                                                                                                                                                                           │
│     function _transferFrom(address from, address to, uint256 amount) internal returns (bool) {                                                                                                                  │
│         balanceOf -= amount;                                                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         // Cannot overflow because the sum of all user                                                                                                                                                          │
│         // balances can't exceed the max uint256 value.                                                                                                                                                         │
│         unchecked {                                                                                                                                                                                             │
│             balanceOf += amount;                                                                                                                                                                                │
│         }                                                                                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         emit Transfer(from, to, amount);                                                                                                                                                                        │
│                                                                                                                                                                                                                 │
│         return true;                                                                                                                                                                                            │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                    │
│ Code:                                                                                                                                                                                                           │
│     function remove(uint256 lpTokenAmount, uint256 minBaseTokenOutputAmount, uint256 minFractionalTokenOutputAmount)                                                                                            │
│         public                                                                                                                                                                                                  │
│         returns (uint256 baseTokenOutputAmount, uint256 fractionalTokenOutputAmount)                                                                                                                            │
│     {                                                                                                                                                                                                           │
│         // *** Checks *** //                                                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         // calculate the output amounts                                                                                                                                                                         │
│         (baseTokenOutputAmount, fractionalTokenOutputAmount) = removeQuote(lpTokenAmount);                                                                                                                      │
│                                                                                                                                                                                                                 │
│         // check that the base token output amount is greater than the min amount                                                                                                                               │
│         require(baseTokenOutputAmount >= minBaseTokenOutputAmount, "Slippage: base token amount out");                                                                                                          │
│                                                                                                                                                                                                                 │
│         // check that the fractional token output amount is greater than the min amount                                                                                                                         │
│         require(fractionalTokenOutputAmount >= minFractionalTokenOutputAmount, "Slippage: fractional token out");                                                                                               │
│                                                                                                                                                                                                                 │
│         // *** Effects *** //                                                                                                                                                                                   │
│                                                                                                                                                                                                                 │
│         // transfer fractional tokens to sender                                                                                                                                                                 │
│         _transferFrom(address(this), msg.sender, fractionalTokenOutputAmount);                                                                                                                                  │
│                                                                                                                                                                                                                 │
│         // *** Interactions *** //                                                                                                                                                                              │
│                                                                                                                                                                                                                 │
│         // burn lp tokens from sender                                                                                                                                                                           │
│         lpToken.burn(msg.sender, lpTokenAmount);                                                                                                                                                                │
│                                                                                                                                                                                                                 │
│         if (baseToken == address(0)) {                                                                                                                                                                          │
│             // if base token is native ETH then send ether to sender                                                                                                                                            │
│             msg.sender.safeTransferETH(baseTokenOutputAmount);                                                                                                                                                  │
│         } else {                                                                                                                                                                                                │
│             // transfer base tokens to sender                                                                                                                                                                   │
│             ERC20(baseToken).safeTransfer(msg.sender, baseTokenOutputAmount);                                                                                                                                   │
│         }                                                                                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         emit Remove(baseTokenOutputAmount, fractionalTokenOutputAmount, lpTokenAmount);                                                                                                                         │
│     }                                                                                                                                                                                                           │
│     function _transferFrom(address from, address to, uint256 amount) internal returns (bool) {                                                                                                                  │
│         balanceOf -= amount;                                                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         // Cannot overflow because the sum of all user                                                                                                                                                          │
│         // balances can't exceed the max uint256 value.                                                                                                                                                         │
│         unchecked {                                                                                                                                                                                             │
│             balanceOf += amount;                                                                                                                                                                                │
│         }                                                                                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         emit Transfer(from, to, amount);                                                                                                                                                                        │
│                                                                                                                                                                                                                 │
│         return true;                                                                                                                                                                                            │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                    │
│ Code:                                                                                                                                                                                                           │
│     function sell(uint256 inputAmount, uint256 minOutputAmount) public returns (uint256 outputAmount) {                                                                                                         │
│         // *** Checks *** //                                                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         // calculate output amount using xyk invariant                                                                                                                                                          │
│         outputAmount = sellQuote(inputAmount);                                                                                                                                                                  │
│                                                                                                                                                                                                                 │
│         // check that the outputted amount of fractional tokens is greater than the min amount                                                                                                                  │
│         require(outputAmount >= minOutputAmount, "Slippage: amount out");                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         // *** Effects *** //                                                                                                                                                                                   │
│                                                                                                                                                                                                                 │
│         // transfer fractional tokens from sender                                                                                                                                                               │
│         _transferFrom(msg.sender, address(this), inputAmount);                                                                                                                                                  │
│                                                                                                                                                                                                                 │
│         // *** Interactions *** //                                                                                                                                                                              │
│                                                                                                                                                                                                                 │
│         if (baseToken == address(0)) {                                                                                                                                                                          │
│             // transfer ether out                                                                                                                                                                               │
│             msg.sender.safeTransferETH(outputAmount);                                                                                                                                                           │
│         } else {                                                                                                                                                                                                │
│             // transfer base tokens out                                                                                                                                                                         │
│             ERC20(baseToken).safeTransfer(msg.sender, outputAmount);                                                                                                                                            │
│         }                                                                                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         emit Sell(inputAmount, outputAmount);                                                                                                                                                                   │
│     }                                                                                                                                                                                                           │
│     function _transferFrom(address from, address to, uint256 amount) internal returns (bool) {                                                                                                                  │
│         balanceOf -= amount;                                                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         // Cannot overflow because the sum of all user                                                                                                                                                          │
│         // balances can't exceed the max uint256 value.                                                                                                                                                         │
│         unchecked {                                                                                                                                                                                             │
│             balanceOf += amount;                                                                                                                                                                                │
│         }                                                                                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         emit Transfer(from, to, amount);                                                                                                                                                                        │
│                                                                                                                                                                                                                 │
│         return true;                                                                                                                                                                                            │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                    │
│ Code:                                                                                                                                                                                                           │
│     function buy(uint256 outputAmount, uint256 maxInputAmount) public payable returns (uint256 inputAmount) {                                                                                                   │
│         // *** Checks *** //                                                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         // check that correct eth input was sent - if the baseToken equals address(0) then native ETH is used                                                                                                   │
│         require(baseToken == address(0) ? msg.value == maxInputAmount : msg.value == 0, "Invalid ether input");                                                                                                 │
│                                                                                                                                                                                                                 │
│         // calculate required input amount using xyk invariant                                                                                                                                                  │
│         inputAmount = buyQuote(outputAmount);                                                                                                                                                                   │
│                                                                                                                                                                                                                 │
│         // check that the required amount of base tokens is less than the max amount                                                                                                                            │
│         require(inputAmount <= maxInputAmount, "Slippage: amount in");                                                                                                                                          │
│                                                                                                                                                                                                                 │
│         // *** Effects *** //                                                                                                                                                                                   │
│                                                                                                                                                                                                                 │
│         // transfer fractional tokens to sender                                                                                                                                                                 │
│         _transferFrom(address(this), msg.sender, outputAmount);                                                                                                                                                 │
│                                                                                                                                                                                                                 │
│         // *** Interactions *** //                                                                                                                                                                              │
│                                                                                                                                                                                                                 │
│         if (baseToken == address(0)) {                                                                                                                                                                          │
│             // refund surplus eth                                                                                                                                                                               │
│             uint256 refundAmount = maxInputAmount - inputAmount;                                                                                                                                                │
│             if (refundAmount > 0) msg.sender.safeTransferETH(refundAmount);                                                                                                                                     │
│         } else {                                                                                                                                                                                                │
│             // transfer base tokens in                                                                                                                                                                          │
│             ERC20(baseToken).safeTransferFrom(msg.sender, address(this), inputAmount);                                                                                                                          │
│         }                                                                                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         emit Buy(inputAmount, outputAmount);                                                                                                                                                                    │
│     }                                                                                                                                                                                                           │
│     function _transferFrom(address from, address to, uint256 amount) internal returns (bool) {                                                                                                                  │
│         balanceOf -= amount;                                                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         // Cannot overflow because the sum of all user                                                                                                                                                          │
│         // balances can't exceed the max uint256 value.                                                                                                                                                         │
│         unchecked {                                                                                                                                                                                             │
│             balanceOf += amount;                                                                                                                                                                                │
│         }                                                                                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         emit Transfer(from, to, amount);                                                                                                                                                                        │
│                                                                                                                                                                                                                 │
│         return true;                                                                                                                                                                                            │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "Yes"                                                                                                                                                                                                  │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭──────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ─────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price based on the market reserves/AMMprice/exchangeRate OR the custom token balanceOf/totalSupply/amount/liquidity calculation          │
│ Code:                                                                                                                                                                                                           │
│     function buy(uint256 outputAmount, uint256 maxInputAmount) public payable returns (uint256 inputAmount) {                                                                                                   │
│         // *** Checks *** //                                                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         // check that correct eth input was sent - if the baseToken equals address(0) then native ETH is used                                                                                                   │
│         require(baseToken == address(0) ? msg.value == maxInputAmount : msg.value == 0, "Invalid ether input");                                                                                                 │
│                                                                                                                                                                                                                 │
│         // calculate required input amount using xyk invariant                                                                                                                                                  │
│         inputAmount = buyQuote(outputAmount);                                                                                                                                                                   │
│                                                                                                                                                                                                                 │
│         // check that the required amount of base tokens is less than the max amount                                                                                                                            │
│         require(inputAmount <= maxInputAmount, "Slippage: amount in");                                                                                                                                          │
│                                                                                                                                                                                                                 │
│         // *** Effects *** //                                                                                                                                                                                   │
│                                                                                                                                                                                                                 │
│         // transfer fractional tokens to sender                                                                                                                                                                 │
│         _transferFrom(address(this), msg.sender, outputAmount);                                                                                                                                                 │
│                                                                                                                                                                                                                 │
│         // *** Interactions *** //                                                                                                                                                                              │
│                                                                                                                                                                                                                 │
│         if (baseToken == address(0)) {                                                                                                                                                                          │
│             // refund surplus eth                                                                                                                                                                               │
│             uint256 refundAmount = maxInputAmount - inputAmount;                                                                                                                                                │
│             if (refundAmount > 0) msg.sender.safeTransferETH(refundAmount);                                                                                                                                     │
│         } else {                                                                                                                                                                                                │
│             // transfer base tokens in                                                                                                                                                                          │
│             ERC20(baseToken).safeTransferFrom(msg.sender, address(this), inputAmount);                                                                                                                          │
│         }                                                                                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         emit Buy(inputAmount, outputAmount);                                                                                                                                                                    │
│     }                                                                                                                                                                                                           │
│     function _transferFrom(address from, address to, uint256 amount) internal returns (bool) {                                                                                                                  │
│         balanceOf -= amount;                                                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         // Cannot overflow because the sum of all user                                                                                                                                                          │
│         // balances can't exceed the max uint256 value.                                                                                                                                                         │
│         unchecked {                                                                                                                                                                                             │
│             balanceOf += amount;                                                                                                                                                                                │
│         }                                                                                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         emit Transfer(from, to, amount);                                                                                                                                                                        │
│                                                                                                                                                                                                                 │
│         return true;                                                                                                                                                                                            │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ No                                                                                                                                                                                                              │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                    │
│ Code:                                                                                                                                                                                                           │
│     function add(uint256 baseTokenAmount, uint256 fractionalTokenAmount, uint256 minLpTokenAmount)                                                                                                              │
│         public                                                                                                                                                                                                  │
│         payable                                                                                                                                                                                                 │
│         returns (uint256 lpTokenAmount)                                                                                                                                                                         │
│     {                                                                                                                                                                                                           │
│         // *** Checks *** //                                                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         // check the token amount inputs are not zero                                                                                                                                                           │
│         require(baseTokenAmount > 0 && fractionalTokenAmount > 0, "Input token amount is zero");                                                                                                                │
│                                                                                                                                                                                                                 │
│         // check that correct eth input was sent - if the baseToken equals address(0) then native ETH is used                                                                                                   │
│         require(baseToken == address(0) ? msg.value == baseTokenAmount : msg.value == 0, "Invalid ether input");                                                                                                │
│                                                                                                                                                                                                                 │
│         // calculate the lp token shares to mint                                                                                                                                                                │
│         lpTokenAmount = addQuote(baseTokenAmount, fractionalTokenAmount);                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         // check that the amount of lp tokens outputted is greater than the min amount                                                                                                                          │
│         require(lpTokenAmount >= minLpTokenAmount, "Slippage: lp token amount out");                                                                                                                            │
│                                                                                                                                                                                                                 │
│         // *** Effects *** //                                                                                                                                                                                   │
│                                                                                                                                                                                                                 │
│         // transfer fractional tokens in                                                                                                                                                                        │
│         _transferFrom(msg.sender, address(this), fractionalTokenAmount);                                                                                                                                        │
│                                                                                                                                                                                                                 │
│         // *** Interactions *** //                                                                                                                                                                              │
│                                                                                                                                                                                                                 │
│         // mint lp tokens to sender                                                                                                                                                                             │
│         lpToken.mint(msg.sender, lpTokenAmount);                                                                                                                                                                │
│                                                                                                                                                                                                                 │
│         // transfer base tokens in if the base token is not ETH                                                                                                                                                 │
│         if (baseToken != address(0)) {                                                                                                                                                                          │
│             // transfer base tokens in                                                                                                                                                                          │
│             ERC20(baseToken).safeTransferFrom(msg.sender, address(this), baseTokenAmount);                                                                                                                      │
│         }                                                                                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         emit Add(baseTokenAmount, fractionalTokenAmount, lpTokenAmount);                                                                                                                                        │
│     }                                                                                                                                                                                                           │
│     function _transferFrom(address from, address to, uint256 amount) internal returns (bool) {                                                                                                                  │
│         balanceOf -= amount;                                                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         // Cannot overflow because the sum of all user                                                                                                                                                          │
│         // balances can't exceed the max uint256 value.                                                                                                                                                         │
│         unchecked {                                                                                                                                                                                             │
│             balanceOf += amount;                                                                                                                                                                                │
│         }                                                                                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         emit Transfer(from, to, amount);                                                                                                                                                                        │
│                                                                                                                                                                                                                 │
│         return true;                                                                                                                                                                                            │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                    │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                │
│ Code:                                                                                                                                                                                                           │
│     function testItInitMintsLpTokensToSender() public {                                                                                                                                                         │
│         // arrange                                                                                                                                                                                              │
│         uint256 minLpTokenAmount = Math.sqrt(baseTokenAmount * tokenIds.length * 1e18);                                                                                                                         │
│         uint256 expectedLpTokenAmount = minLpTokenAmount;                                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         uint256 lpTokenAmount = p.nftAdd(baseTokenAmount, tokenIds, minLpTokenAmount, proofs);                                                                                                                  │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(lpTokenAmount, expectedLpTokenAmount, "Should have returned correct lp token amount");                                                                                                         │
│         assertEq(lpToken.balanceOf(address(this)), expectedLpTokenAmount, "Should have minted lp tokens");                                                                                                      │
│         assertEq(lpToken.totalSupply(), expectedLpTokenAmount, "Should have increased lp supply");                                                                                                              │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "Yes"                                                                                                                                                                                                  │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭──────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ─────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: deposit/mint/add the liquidity pool/amount/share and set the total share to the number of first deposit when the supply/liquidity is 0                                                               │
│ Code:                                                                                                                                                                                                           │
│     function testItInitMintsLpTokensToSender() public {                                                                                                                                                         │
│         // arrange                                                                                                                                                                                              │
│         uint256 minLpTokenAmount = Math.sqrt(baseTokenAmount * tokenIds.length * 1e18);                                                                                                                         │
│         uint256 expectedLpTokenAmount = minLpTokenAmount;                                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         uint256 lpTokenAmount = p.nftAdd(baseTokenAmount, tokenIds, minLpTokenAmount, proofs);                                                                                                                  │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(lpTokenAmount, expectedLpTokenAmount, "Should have returned correct lp token amount");                                                                                                         │
│         assertEq(lpToken.balanceOf(address(this)), expectedLpTokenAmount, "Should have minted lp tokens");                                                                                                      │
│         assertEq(lpToken.totalSupply(), expectedLpTokenAmount, "Should have increased lp supply");                                                                                                              │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Yes                                                                                                                                                                                                             │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: involve transfering token from an address different from message sender                                                                                                                              │
│ have code statements that get or calculate LP token's value/price                                                                                                                                               │
│ Code:                                                                                                                                                                                                           │
│     function testItTransfersBaseTokens() public {                                                                                                                                                               │
│         // arrange                                                                                                                                                                                              │
│         uint256 minLpTokenAmount = Math.sqrt(baseTokenAmount * tokenIds.length * 1e18);                                                                                                                         │
│         uint256 balanceBefore = usd.balanceOf(address(this));                                                                                                                                                   │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         p.nftAdd(baseTokenAmount, tokenIds, minLpTokenAmount, proofs);                                                                                                                                          │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         uint256 balanceAfter = usd.balanceOf(address(this));                                                                                                                                                    │
│         assertEq(balanceBefore - balanceAfter, baseTokenAmount, "Should transferred base tokens from sender");                                                                                                  │
│         assertEq(usd.balanceOf(address(p)), baseTokenAmount, "Should have transferred base tokens to pair");                                                                                                    │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                    │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                │
│ Code:                                                                                                                                                                                                           │
│     function testItMintsLpTokensAfterInit() public {                                                                                                                                                            │
│         // arrange                                                                                                                                                                                              │
│         uint256 fractionalTokenAmount = 101 * 1e18;                                                                                                                                                             │
│         deal(address(p), address(this), fractionalTokenAmount, true);                                                                                                                                           │
│         uint256 minLpTokenAmount = Math.sqrt(baseTokenAmount * tokenIds.length * 1e18);                                                                                                                         │
│         p.add(baseTokenAmount, fractionalTokenAmount, minLpTokenAmount); // initial add                                                                                                                         │
│         uint256 lpTokenSupplyBefore = lpToken.totalSupply();                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         uint256 expectedLpTokenAmount = (lpToken.totalSupply() * tokenIds.length * 1e18) / p.fractionalTokenReserves();                                                                                         │
│         minLpTokenAmount = 0;                                                                                                                                                                                   │
│         baseTokenAmount = ((p.baseTokenReserves() + 100) * tokenIds.length * 1e18) / p.fractionalTokenReserves();                                                                                               │
│         deal(address(usd), babe, baseTokenAmount, true);                                                                                                                                                        │
│                                                                                                                                                                                                                 │
│         vm.startPrank(babe);                                                                                                                                                                                    │
│         bayc.setApprovalForAll(address(p), true);                                                                                                                                                               │
│         usd.approve(address(p), type(uint256).max);                                                                                                                                                             │
│                                                                                                                                                                                                                 │
│         for (uint256 i = 0; i < tokenIds.length; i++) {                                                                                                                                                         │
│             uint256 tokenId = i + tokenIds.length;                                                                                                                                                              │
│             bayc.mint(babe, tokenId);                                                                                                                                                                           │
│             tokenIds = tokenId;                                                                                                                                                                                 │
│         }                                                                                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         uint256 lpTokenAmount = p.nftAdd(baseTokenAmount, tokenIds, minLpTokenAmount, proofs);                                                                                                                  │
│         vm.stopPrank();                                                                                                                                                                                         │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(lpTokenAmount, expectedLpTokenAmount, "Should have returned correct lp token amount");                                                                                                         │
│         assertEq(lpToken.balanceOf(babe), expectedLpTokenAmount, "Should have minted lp tokens");                                                                                                               │
│         assertEq(lpToken.totalSupply() - lpTokenSupplyBefore, expectedLpTokenAmount, "Should have increased lp supply");                                                                                        │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "Yes"                                                                                                                                                                                                  │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭──────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ─────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: deposit/mint/add the liquidity pool/amount/share and set the total share to the number of first deposit when the supply/liquidity is 0                                                               │
│ Code:                                                                                                                                                                                                           │
│     function testItMintsLpTokensAfterInit() public {                                                                                                                                                            │
│         // arrange                                                                                                                                                                                              │
│         uint256 fractionalTokenAmount = 101 * 1e18;                                                                                                                                                             │
│         deal(address(p), address(this), fractionalTokenAmount, true);                                                                                                                                           │
│         uint256 minLpTokenAmount = Math.sqrt(baseTokenAmount * tokenIds.length * 1e18);                                                                                                                         │
│         p.add(baseTokenAmount, fractionalTokenAmount, minLpTokenAmount); // initial add                                                                                                                         │
│         uint256 lpTokenSupplyBefore = lpToken.totalSupply();                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         uint256 expectedLpTokenAmount = (lpToken.totalSupply() * tokenIds.length * 1e18) / p.fractionalTokenReserves();                                                                                         │
│         minLpTokenAmount = 0;                                                                                                                                                                                   │
│         baseTokenAmount = ((p.baseTokenReserves() + 100) * tokenIds.length * 1e18) / p.fractionalTokenReserves();                                                                                               │
│         deal(address(usd), babe, baseTokenAmount, true);                                                                                                                                                        │
│                                                                                                                                                                                                                 │
│         vm.startPrank(babe);                                                                                                                                                                                    │
│         bayc.setApprovalForAll(address(p), true);                                                                                                                                                               │
│         usd.approve(address(p), type(uint256).max);                                                                                                                                                             │
│                                                                                                                                                                                                                 │
│         for (uint256 i = 0; i < tokenIds.length; i++) {                                                                                                                                                         │
│             uint256 tokenId = i + tokenIds.length;                                                                                                                                                              │
│             bayc.mint(babe, tokenId);                                                                                                                                                                           │
│             tokenIds = tokenId;                                                                                                                                                                                 │
│         }                                                                                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         uint256 lpTokenAmount = p.nftAdd(baseTokenAmount, tokenIds, minLpTokenAmount, proofs);                                                                                                                  │
│         vm.stopPrank();                                                                                                                                                                                         │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(lpTokenAmount, expectedLpTokenAmount, "Should have returned correct lp token amount");                                                                                                         │
│         assertEq(lpToken.balanceOf(babe), expectedLpTokenAmount, "Should have minted lp tokens");                                                                                                               │
│         assertEq(lpToken.totalSupply() - lpTokenSupplyBefore, expectedLpTokenAmount, "Should have increased lp supply");                                                                                        │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ No                                                                                                                                                                                                              │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                    │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                │
│ Code:                                                                                                                                                                                                           │
│     function testItRevertsSlippageAfterInitMint() public {                                                                                                                                                      │
│         // arrange                                                                                                                                                                                              │
│         uint256 fractionalTokenAmount = 101 * 1e18;                                                                                                                                                             │
│         uint256 minLpTokenAmount = Math.sqrt(baseTokenAmount * tokenIds.length * 1e18);                                                                                                                         │
│         deal(address(p), address(this), fractionalTokenAmount, true);                                                                                                                                           │
│         p.add(baseTokenAmount, fractionalTokenAmount, minLpTokenAmount); // initial add                                                                                                                         │
│                                                                                                                                                                                                                 │
│         minLpTokenAmount = (lpToken.totalSupply() * tokenIds.length * 1e18) / p.fractionalTokenReserves() + 1; // add 1 to cause a revert                                                                       │
│         baseTokenAmount = ((p.baseTokenReserves() + 100) * tokenIds.length * 1e18) / p.fractionalTokenReserves();                                                                                               │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         vm.expectRevert("Slippage: lp token amount out");                                                                                                                                                       │
│         p.nftAdd(baseTokenAmount, tokenIds, minLpTokenAmount, proofs);                                                                                                                                          │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "Yes"                                                                                                                                                                                                  │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭──────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ─────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: deposit/mint/add the liquidity pool/amount/share and set the total share to the number of first deposit when the supply/liquidity is 0                                                               │
│ Code:                                                                                                                                                                                                           │
│     function testItRevertsSlippageAfterInitMint() public {                                                                                                                                                      │
│         // arrange                                                                                                                                                                                              │
│         uint256 fractionalTokenAmount = 101 * 1e18;                                                                                                                                                             │
│         uint256 minLpTokenAmount = Math.sqrt(baseTokenAmount * tokenIds.length * 1e18);                                                                                                                         │
│         deal(address(p), address(this), fractionalTokenAmount, true);                                                                                                                                           │
│         p.add(baseTokenAmount, fractionalTokenAmount, minLpTokenAmount); // initial add                                                                                                                         │
│                                                                                                                                                                                                                 │
│         minLpTokenAmount = (lpToken.totalSupply() * tokenIds.length * 1e18) / p.fractionalTokenReserves() + 1; // add 1 to cause a revert                                                                       │
│         baseTokenAmount = ((p.baseTokenReserves() + 100) * tokenIds.length * 1e18) / p.fractionalTokenReserves();                                                                                               │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         vm.expectRevert("Slippage: lp token amount out");                                                                                                                                                       │
│         p.nftAdd(baseTokenAmount, tokenIds, minLpTokenAmount, proofs);                                                                                                                                          │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ No                                                                                                                                                                                                              │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have inside code statements that update/accrue interest/exchange rate,                                                                                                                               │
│ Code:                                                                                                                                                                                                           │
│     function testItAddsWithMerkleProof() public {                                                                                                                                                               │
│         // arrange                                                                                                                                                                                              │
│         Pair pair = createPairScript.create(address(bayc), address(usd), "YEET-mids.json", address(c));                                                                                                         │
│         proofs = createPairScript.generateMerkleProofs("YEET-mids.json", tokenIds);                                                                                                                             │
│         uint256 minLpTokenAmount = Math.sqrt(baseTokenAmount * tokenIds.length * 1e18);                                                                                                                         │
│         bayc.setApprovalForAll(address(pair), true);                                                                                                                                                            │
│         usd.approve(address(pair), type(uint256).max);                                                                                                                                                          │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         pair.nftAdd(baseTokenAmount, tokenIds, minLpTokenAmount, proofs);                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         for (uint256 i = 0; i < tokenIds.length; i++) {                                                                                                                                                         │
│             assertEq(bayc.ownerOf(i), address(pair), "Should have sent bayc to pair");                                                                                                                          │
│         }                                                                                                                                                                                                       │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                    │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                │
│ Code:                                                                                                                                                                                                           │
│     function testItInitMintsLpTokensToSender(uint256 _baseTokenAmount, uint256 _fractionalTokenAmount) public {                                                                                                 │
│         // arrange                                                                                                                                                                                              │
│         _baseTokenAmount = bound(_baseTokenAmount, 1, type(uint128).max);                                                                                                                                       │
│         _fractionalTokenAmount = bound(_fractionalTokenAmount, 1, 100_000_000 * 1e18);                                                                                                                          │
│         deal(address(usd), address(this), _baseTokenAmount, true);                                                                                                                                              │
│         deal(address(p), address(this), _fractionalTokenAmount, true);                                                                                                                                          │
│         uint256 minLpTokenAmount = Math.sqrt(_baseTokenAmount * _fractionalTokenAmount);                                                                                                                        │
│         uint256 expectedLpTokenAmount = minLpTokenAmount;                                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         uint256 lpTokenAmount = p.add(_baseTokenAmount, _fractionalTokenAmount, minLpTokenAmount);                                                                                                              │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(lpTokenAmount, expectedLpTokenAmount, "Should have returned correct lp token amount");                                                                                                         │
│         assertEq(lpToken.balanceOf(address(this)), expectedLpTokenAmount, "Should have minted lp tokens");                                                                                                      │
│         assertEq(lpToken.totalSupply(), expectedLpTokenAmount, "Should have increased lp supply");                                                                                                              │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "Yes"                                                                                                                                                                                                  │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭──────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ─────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: deposit/mint/add the liquidity pool/amount/share and set the total share to the number of first deposit when the supply/liquidity is 0                                                               │
│ Code:                                                                                                                                                                                                           │
│     function testItInitMintsLpTokensToSender(uint256 _baseTokenAmount, uint256 _fractionalTokenAmount) public {                                                                                                 │
│         // arrange                                                                                                                                                                                              │
│         _baseTokenAmount = bound(_baseTokenAmount, 1, type(uint128).max);                                                                                                                                       │
│         _fractionalTokenAmount = bound(_fractionalTokenAmount, 1, 100_000_000 * 1e18);                                                                                                                          │
│         deal(address(usd), address(this), _baseTokenAmount, true);                                                                                                                                              │
│         deal(address(p), address(this), _fractionalTokenAmount, true);                                                                                                                                          │
│         uint256 minLpTokenAmount = Math.sqrt(_baseTokenAmount * _fractionalTokenAmount);                                                                                                                        │
│         uint256 expectedLpTokenAmount = minLpTokenAmount;                                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         uint256 lpTokenAmount = p.add(_baseTokenAmount, _fractionalTokenAmount, minLpTokenAmount);                                                                                                              │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(lpTokenAmount, expectedLpTokenAmount, "Should have returned correct lp token amount");                                                                                                         │
│         assertEq(lpToken.balanceOf(address(this)), expectedLpTokenAmount, "Should have minted lp tokens");                                                                                                      │
│         assertEq(lpToken.totalSupply(), expectedLpTokenAmount, "Should have increased lp supply");                                                                                                              │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Yes                                                                                                                                                                                                             │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: involve transfering token from an address different from message sender                                                                                                                              │
│ have code statements that get or calculate LP token's value/price                                                                                                                                               │
│ Code:                                                                                                                                                                                                           │
│     function testItTransfersBaseTokens() public {                                                                                                                                                               │
│         // arrange                                                                                                                                                                                              │
│         uint256 minLpTokenAmount = Math.sqrt(baseTokenAmount * fractionalTokenAmount);                                                                                                                          │
│         uint256 balanceBefore = usd.balanceOf(address(this));                                                                                                                                                   │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         p.add(baseTokenAmount, fractionalTokenAmount, minLpTokenAmount);                                                                                                                                        │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         uint256 balanceAfter = usd.balanceOf(address(this));                                                                                                                                                    │
│         assertEq(balanceBefore - balanceAfter, baseTokenAmount, "Should transferred base tokens from sender");                                                                                                  │
│         assertEq(usd.balanceOf(address(p)), baseTokenAmount, "Should have transferred base tokens to pair");                                                                                                    │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: involve transfering token from an address different from message sender                                                                                                                              │
│ have code statements that get or calculate LP token's value/price                                                                                                                                               │
│ Code:                                                                                                                                                                                                           │
│     function testItTransfersFractionalTokens() public {                                                                                                                                                         │
│         // arrange                                                                                                                                                                                              │
│         uint256 minLpTokenAmount = Math.sqrt(baseTokenAmount * fractionalTokenAmount);                                                                                                                          │
│         uint256 balanceBefore = p.balanceOf(address(this));                                                                                                                                                     │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         p.add(baseTokenAmount, fractionalTokenAmount, minLpTokenAmount);                                                                                                                                        │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(p.balanceOf(address(p)), fractionalTokenAmount, "Should have transferred fractional tokens to pair");                                                                                          │
│         assertEq(                                                                                                                                                                                               │
│             balanceBefore - p.balanceOf(address(this)),                                                                                                                                                         │
│             fractionalTokenAmount,                                                                                                                                                                              │
│             "Should transferred fractional tokens from sender"                                                                                                                                                  │
│         );                                                                                                                                                                                                      │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                    │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                │
│ Code:                                                                                                                                                                                                           │
│     function testItMintsLpTokensAfterInit(uint256 _initBaseTokenAmount, uint256 _initFractionalTokenAmount) public {                                                                                            │
│         // arrange                                                                                                                                                                                              │
│         _initBaseTokenAmount = bound(_initBaseTokenAmount, 1, type(uint128).max);                                                                                                                               │
│         _initFractionalTokenAmount = bound(_initFractionalTokenAmount, 1, 100_000_000 * 1e18);                                                                                                                  │
│         deal(address(usd), address(this), _initBaseTokenAmount, true);                                                                                                                                          │
│         deal(address(p), address(this), _initFractionalTokenAmount, true);                                                                                                                                      │
│         uint256 initMinLpTokenAmount = Math.sqrt(_initBaseTokenAmount * _initFractionalTokenAmount);                                                                                                            │
│         p.add(_initBaseTokenAmount, _initFractionalTokenAmount, initMinLpTokenAmount); // initial add                                                                                                           │
│         uint256 lpTokenSupplyBefore = lpToken.totalSupply();                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         uint256 expectedLpTokenAmount = Math.sqrt(_initBaseTokenAmount * _initFractionalTokenAmount) * 17;                                                                                                      │
│         uint256 minLpTokenAmount = expectedLpTokenAmount;                                                                                                                                                       │
│         baseTokenAmount = _initBaseTokenAmount * 17;                                                                                                                                                            │
│         fractionalTokenAmount = _initFractionalTokenAmount * 17;                                                                                                                                                │
│         deal(address(usd), babe, baseTokenAmount, true);                                                                                                                                                        │
│         deal(address(p), babe, fractionalTokenAmount, true);                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         vm.startPrank(babe);                                                                                                                                                                                    │
│         usd.approve(address(p), type(uint256).max);                                                                                                                                                             │
│         uint256 lpTokenAmount = p.add(baseTokenAmount, fractionalTokenAmount, minLpTokenAmount);                                                                                                                │
│         vm.stopPrank();                                                                                                                                                                                         │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(lpTokenAmount, expectedLpTokenAmount, "Should have returned correct lp token amount");                                                                                                         │
│         assertEq(lpToken.balanceOf(babe), expectedLpTokenAmount, "Should have minted lp tokens");                                                                                                               │
│         assertEq(lpToken.totalSupply() - lpTokenSupplyBefore, expectedLpTokenAmount, "Should have increased lp supply");                                                                                        │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "Yes"                                                                                                                                                                                                  │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭──────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ─────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: deposit/mint/add the liquidity pool/amount/share and set the total share to the number of first deposit when the supply/liquidity is 0                                                               │
│ Code:                                                                                                                                                                                                           │
│     function testItMintsLpTokensAfterInit(uint256 _initBaseTokenAmount, uint256 _initFractionalTokenAmount) public {                                                                                            │
│         // arrange                                                                                                                                                                                              │
│         _initBaseTokenAmount = bound(_initBaseTokenAmount, 1, type(uint128).max);                                                                                                                               │
│         _initFractionalTokenAmount = bound(_initFractionalTokenAmount, 1, 100_000_000 * 1e18);                                                                                                                  │
│         deal(address(usd), address(this), _initBaseTokenAmount, true);                                                                                                                                          │
│         deal(address(p), address(this), _initFractionalTokenAmount, true);                                                                                                                                      │
│         uint256 initMinLpTokenAmount = Math.sqrt(_initBaseTokenAmount * _initFractionalTokenAmount);                                                                                                            │
│         p.add(_initBaseTokenAmount, _initFractionalTokenAmount, initMinLpTokenAmount); // initial add                                                                                                           │
│         uint256 lpTokenSupplyBefore = lpToken.totalSupply();                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         uint256 expectedLpTokenAmount = Math.sqrt(_initBaseTokenAmount * _initFractionalTokenAmount) * 17;                                                                                                      │
│         uint256 minLpTokenAmount = expectedLpTokenAmount;                                                                                                                                                       │
│         baseTokenAmount = _initBaseTokenAmount * 17;                                                                                                                                                            │
│         fractionalTokenAmount = _initFractionalTokenAmount * 17;                                                                                                                                                │
│         deal(address(usd), babe, baseTokenAmount, true);                                                                                                                                                        │
│         deal(address(p), babe, fractionalTokenAmount, true);                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         vm.startPrank(babe);                                                                                                                                                                                    │
│         usd.approve(address(p), type(uint256).max);                                                                                                                                                             │
│         uint256 lpTokenAmount = p.add(baseTokenAmount, fractionalTokenAmount, minLpTokenAmount);                                                                                                                │
│         vm.stopPrank();                                                                                                                                                                                         │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(lpTokenAmount, expectedLpTokenAmount, "Should have returned correct lp token amount");                                                                                                         │
│         assertEq(lpToken.balanceOf(babe), expectedLpTokenAmount, "Should have minted lp tokens");                                                                                                               │
│         assertEq(lpToken.totalSupply() - lpTokenSupplyBefore, expectedLpTokenAmount, "Should have increased lp supply");                                                                                        │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Yes                                                                                                                                                                                                             │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: involve transfering token from an address different from message sender                                                                                                                              │
│ Code:                                                                                                                                                                                                           │
│     function testItTransfersEther() public {                                                                                                                                                                    │
│         // arrange                                                                                                                                                                                              │
│         uint256 minLpTokenAmount = Math.sqrt(baseTokenAmount * fractionalTokenAmount);                                                                                                                          │
│         uint256 balanceBefore = address(this).balance;                                                                                                                                                          │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         ethPair.add{value: baseTokenAmount}(baseTokenAmount, fractionalTokenAmount, minLpTokenAmount);                                                                                                          │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         uint256 balanceAfter = address(this).balance;                                                                                                                                                           │
│         assertEq(balanceBefore - balanceAfter, baseTokenAmount, "Should transferred ether from sender");                                                                                                        │
│         assertEq(address(ethPair).balance, baseTokenAmount, "Should have transferred ether to pair");                                                                                                           │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                    │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                │
│ Code:                                                                                                                                                                                                           │
│     function testItMintsLpTokensAfterInitWithEther() public {                                                                                                                                                   │
│         // arrange                                                                                                                                                                                              │
│         uint256 minLpTokenAmount = Math.sqrt(baseTokenAmount * fractionalTokenAmount);                                                                                                                          │
│         ethPair.add{value: baseTokenAmount}(baseTokenAmount, fractionalTokenAmount, minLpTokenAmount); // initial add                                                                                           │
│         uint256 lpTokenSupplyBefore = ethPairLpToken.totalSupply();                                                                                                                                             │
│                                                                                                                                                                                                                 │
│         uint256 expectedLpTokenAmount = Math.sqrt(baseTokenAmount * fractionalTokenAmount) * 17;                                                                                                                │
│         minLpTokenAmount = expectedLpTokenAmount;                                                                                                                                                               │
│         baseTokenAmount = baseTokenAmount * 17;                                                                                                                                                                 │
│         fractionalTokenAmount = fractionalTokenAmount * 17;                                                                                                                                                     │
│         deal(address(ethPair), babe, fractionalTokenAmount, true);                                                                                                                                              │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         vm.startPrank(babe);                                                                                                                                                                                    │
│         deal(babe, baseTokenAmount);                                                                                                                                                                            │
│         uint256 lpTokenAmount =                                                                                                                                                                                 │
│             ethPair.add{value: baseTokenAmount}(baseTokenAmount, fractionalTokenAmount, minLpTokenAmount);                                                                                                      │
│         vm.stopPrank();                                                                                                                                                                                         │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(lpTokenAmount, expectedLpTokenAmount, "Should have returned correct lp token amount");                                                                                                         │
│         assertEq(ethPairLpToken.balanceOf(babe), expectedLpTokenAmount, "Should have minted lp tokens");                                                                                                        │
│         assertEq(                                                                                                                                                                                               │
│             ethPairLpToken.totalSupply() - lpTokenSupplyBefore, expectedLpTokenAmount, "Should have increased lp supply"                                                                                        │
│         );                                                                                                                                                                                                      │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "Yes"                                                                                                                                                                                                  │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭──────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ─────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: deposit/mint/add the liquidity pool/amount/share and set the total share to the number of first deposit when the supply/liquidity is 0                                                               │
│ Code:                                                                                                                                                                                                           │
│     function testItMintsLpTokensAfterInitWithEther() public {                                                                                                                                                   │
│         // arrange                                                                                                                                                                                              │
│         uint256 minLpTokenAmount = Math.sqrt(baseTokenAmount * fractionalTokenAmount);                                                                                                                          │
│         ethPair.add{value: baseTokenAmount}(baseTokenAmount, fractionalTokenAmount, minLpTokenAmount); // initial add                                                                                           │
│         uint256 lpTokenSupplyBefore = ethPairLpToken.totalSupply();                                                                                                                                             │
│                                                                                                                                                                                                                 │
│         uint256 expectedLpTokenAmount = Math.sqrt(baseTokenAmount * fractionalTokenAmount) * 17;                                                                                                                │
│         minLpTokenAmount = expectedLpTokenAmount;                                                                                                                                                               │
│         baseTokenAmount = baseTokenAmount * 17;                                                                                                                                                                 │
│         fractionalTokenAmount = fractionalTokenAmount * 17;                                                                                                                                                     │
│         deal(address(ethPair), babe, fractionalTokenAmount, true);                                                                                                                                              │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         vm.startPrank(babe);                                                                                                                                                                                    │
│         deal(babe, baseTokenAmount);                                                                                                                                                                            │
│         uint256 lpTokenAmount =                                                                                                                                                                                 │
│             ethPair.add{value: baseTokenAmount}(baseTokenAmount, fractionalTokenAmount, minLpTokenAmount);                                                                                                      │
│         vm.stopPrank();                                                                                                                                                                                         │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(lpTokenAmount, expectedLpTokenAmount, "Should have returned correct lp token amount");                                                                                                         │
│         assertEq(ethPairLpToken.balanceOf(babe), expectedLpTokenAmount, "Should have minted lp tokens");                                                                                                        │
│         assertEq(                                                                                                                                                                                               │
│             ethPairLpToken.totalSupply() - lpTokenSupplyBefore, expectedLpTokenAmount, "Should have increased lp supply"                                                                                        │
│         );                                                                                                                                                                                                      │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Yes                                                                                                                                                                                                             │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: involve transfering token from an address different from message sender                                                                                                                              │
│ have code statements that get or calculate LP token's value/price                                                                                                                                               │
│ Code:                                                                                                                                                                                                           │
│     function testItTransfersBaseTokens() public {                                                                                                                                                               │
│         // arrange                                                                                                                                                                                              │
│         uint256 balanceBefore = usd.balanceOf(address(p));                                                                                                                                                      │
│         uint256 thisBalanceBefore = usd.balanceOf(address(this));                                                                                                                                               │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         p.buy(outputAmount, maxInputAmount);                                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(                                                                                                                                                                                               │
│             usd.balanceOf(address(p)) - balanceBefore, maxInputAmount, "Should have transferred base tokens to pair"                                                                                            │
│         );                                                                                                                                                                                                      │
│         assertEq(                                                                                                                                                                                               │
│             thisBalanceBefore - usd.balanceOf(address(this)),                                                                                                                                                   │
│             maxInputAmount,                                                                                                                                                                                     │
│             "Should have transferred base tokens from sender"                                                                                                                                                   │
│         );                                                                                                                                                                                                      │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: involve transfering token from an address different from message sender                                                                                                                              │
│ have code statements that get or calculate LP token's value/price                                                                                                                                               │
│ Code:                                                                                                                                                                                                           │
│     function testItTransfersFractionalTokens() public {                                                                                                                                                         │
│         // arrange                                                                                                                                                                                              │
│         uint256 balanceBefore = p.balanceOf(address(p));                                                                                                                                                        │
│         uint256 thisBalanceBefore = p.balanceOf(address(this));                                                                                                                                                 │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         p.buy(outputAmount, maxInputAmount);                                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(                                                                                                                                                                                               │
│             p.balanceOf(address(this)) - thisBalanceBefore,                                                                                                                                                     │
│             outputAmount,                                                                                                                                                                                       │
│             "Should have transferred fractional tokens from sender"                                                                                                                                             │
│         );                                                                                                                                                                                                      │
│         assertEq(                                                                                                                                                                                               │
│             balanceBefore - p.balanceOf(address(p)), outputAmount, "Should have transferred fractional tokens to pair"                                                                                          │
│         );                                                                                                                                                                                                      │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: involve transfering token from an address different from message sender                                                                                                                              │
│ Code:                                                                                                                                                                                                           │
│     function testItTransfersEther() public {                                                                                                                                                                    │
│         // arrange                                                                                                                                                                                              │
│         uint256 balanceBefore = address(ethPair).balance;                                                                                                                                                       │
│         uint256 thisBalanceBefore = address(this).balance;                                                                                                                                                      │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         ethPair.buy{value: maxInputAmount}(outputAmount, maxInputAmount);                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(address(ethPair).balance - balanceBefore, maxInputAmount, "Should have transferred ether to pair");                                                                                            │
│         assertEq(thisBalanceBefore - address(this).balance, maxInputAmount, "Should have transferred ether from sender");                                                                                       │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: involve transfering token from an address different from message sender                                                                                                                              │
│ have code statements that get or calculate LP token's value/price                                                                                                                                               │
│ Code:                                                                                                                                                                                                           │
│     function testItTransfersBaseTokens() public {                                                                                                                                                               │
│         // arrange                                                                                                                                                                                              │
│         uint256 balanceBefore = usd.balanceOf(address(p));                                                                                                                                                      │
│         uint256 thisBalanceBefore = usd.balanceOf(address(this));                                                                                                                                               │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         p.nftSell(tokenIds, minOutputAmount, proofs);                                                                                                                                                           │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(                                                                                                                                                                                               │
│             balanceBefore - usd.balanceOf(address(p)), minOutputAmount, "Should have transferred base tokens from pair"                                                                                         │
│         );                                                                                                                                                                                                      │
│                                                                                                                                                                                                                 │
│         assertEq(                                                                                                                                                                                               │
│             usd.balanceOf(address(this)) - thisBalanceBefore,                                                                                                                                                   │
│             minOutputAmount,                                                                                                                                                                                    │
│             "Should have transferred base tokens to sender"                                                                                                                                                     │
│         );                                                                                                                                                                                                      │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                    │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                │
│ Code:                                                                                                                                                                                                           │
│     function testItMintsFractionalTokens() public {                                                                                                                                                             │
│         // arrange                                                                                                                                                                                              │
│         uint256 totalSupplyBefore = p.totalSupply();                                                                                                                                                            │
│         uint256 balanceBefore = p.balanceOf(address(p));                                                                                                                                                        │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         p.nftSell(tokenIds, minOutputAmount, proofs);                                                                                                                                                           │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(p.totalSupply() - totalSupplyBefore, tokenIds.length * 1e18, "Should have minted fractional tokens");                                                                                          │
│         assertEq(                                                                                                                                                                                               │
│             p.balanceOf(address(p)) - balanceBefore,                                                                                                                                                            │
│             tokenIds.length * 1e18,                                                                                                                                                                             │
│             "Should have minted fractional tokens to pair"                                                                                                                                                      │
│         );                                                                                                                                                                                                      │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have inside code statements that update/accrue interest/exchange rate,                                                                                                                               │
│ Code:                                                                                                                                                                                                           │
│     function testItSellsWithMerkleProof() public {                                                                                                                                                              │
│         Pair pair = createPairScript.create(address(bayc), address(usd), "YEET-mids.json", address(c));                                                                                                         │
│                                                                                                                                                                                                                 │
│         uint256 baseTokenAmount = 69.69e18;                                                                                                                                                                     │
│         uint256 fractionalTokenAmount = 420.42e18;                                                                                                                                                              │
│                                                                                                                                                                                                                 │
│         deal(address(usd), address(this), baseTokenAmount, true);                                                                                                                                               │
│         deal(address(pair), address(this), fractionalTokenAmount, true);                                                                                                                                        │
│         usd.approve(address(pair), type(uint256).max);                                                                                                                                                          │
│                                                                                                                                                                                                                 │
│         uint256 minLpTokenAmount = Math.sqrt(baseTokenAmount * fractionalTokenAmount);                                                                                                                          │
│         pair.add(baseTokenAmount, fractionalTokenAmount, minLpTokenAmount);                                                                                                                                     │
│                                                                                                                                                                                                                 │
│         proofs = createPairScript.generateMerkleProofs("YEET-mids.json", tokenIds);                                                                                                                             │
│         bayc.setApprovalForAll(address(pair), true);                                                                                                                                                            │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         pair.nftSell(tokenIds, minOutputAmount, proofs);                                                                                                                                                        │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         for (uint256 i = 0; i < tokenIds.length; i++) {                                                                                                                                                         │
│             assertEq(bayc.ownerOf(tokenIds), address(pair), "Should have sent bayc to pair");                                                                                                                   │
│         }                                                                                                                                                                                                       │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                    │
│ Code:                                                                                                                                                                                                           │
│     function testItReturnsCorrectPrice() public {                                                                                                                                                               │
│         // arrange                                                                                                                                                                                              │
│         uint256 baseTokenReserves = 500;                                                                                                                                                                        │
│         uint256 fractionalTokenReserves = 1000;                                                                                                                                                                 │
│         uint256 expectedPrice = baseTokenReserves * 1e18 / fractionalTokenReserves;                                                                                                                             │
│                                                                                                                                                                                                                 │
│         // forgefmt: disable-next-item                                                                                                                                                                          │
│         stdstore                                                                                                                                                                                                │
│             .target(address(usd))                                                                                                                                                                               │
│             .sig("balanceOf(address)")                                                                                                                                                                          │
│             .with_key(address(p))                                                                                                                                                                               │
│             .checked_write(baseTokenReserves);                                                                                                                                                                  │
│                                                                                                                                                                                                                 │
│         // forgefmt: disable-next-item                                                                                                                                                                          │
│         stdstore                                                                                                                                                                                                │
│             .target(address(p))                                                                                                                                                                                 │
│             .sig("balanceOf(address)")                                                                                                                                                                          │
│             .with_key(address(p))                                                                                                                                                                               │
│             .checked_write(fractionalTokenReserves);                                                                                                                                                            │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         uint256 price = p.price();                                                                                                                                                                              │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(price, expectedPrice, "Price does not match");                                                                                                                                                 │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "Yes"                                                                                                                                                                                                  │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭──────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ─────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price based on the market reserves/AMMprice/exchangeRate OR the custom token balanceOf/totalSupply/amount/liquidity calculation          │
│ Code:                                                                                                                                                                                                           │
│     function testItReturnsCorrectPrice() public {                                                                                                                                                               │
│         // arrange                                                                                                                                                                                              │
│         uint256 baseTokenReserves = 500;                                                                                                                                                                        │
│         uint256 fractionalTokenReserves = 1000;                                                                                                                                                                 │
│         uint256 expectedPrice = baseTokenReserves * 1e18 / fractionalTokenReserves;                                                                                                                             │
│                                                                                                                                                                                                                 │
│         // forgefmt: disable-next-item                                                                                                                                                                          │
│         stdstore                                                                                                                                                                                                │
│             .target(address(usd))                                                                                                                                                                               │
│             .sig("balanceOf(address)")                                                                                                                                                                          │
│             .with_key(address(p))                                                                                                                                                                               │
│             .checked_write(baseTokenReserves);                                                                                                                                                                  │
│                                                                                                                                                                                                                 │
│         // forgefmt: disable-next-item                                                                                                                                                                          │
│         stdstore                                                                                                                                                                                                │
│             .target(address(p))                                                                                                                                                                                 │
│             .sig("balanceOf(address)")                                                                                                                                                                          │
│             .with_key(address(p))                                                                                                                                                                               │
│             .checked_write(fractionalTokenReserves);                                                                                                                                                            │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         uint256 price = p.price();                                                                                                                                                                              │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(price, expectedPrice, "Price does not match");                                                                                                                                                 │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Yes                                                                                                                                                                                                             │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                    │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                │
│ Code:                                                                                                                                                                                                           │
│     function testItMintsFractionalTokens() public {                                                                                                                                                             │
│         // arrange                                                                                                                                                                                              │
│         uint256 expectedFractionalTokens = tokenIds.length * 1e18;                                                                                                                                              │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         p.wrap(tokenIds, proofs);                                                                                                                                                                               │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(p.balanceOf(address(this)), expectedFractionalTokens, "Should have minted fractional tokens to sender");                                                                                       │
│         assertEq(p.totalSupply(), expectedFractionalTokens, "Should have minted fractional tokens");                                                                                                            │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have inside code statements that update/accrue interest/exchange rate,                                                                                                                               │
│ Code:                                                                                                                                                                                                           │
│     function testItAddsWithMerkleProof() public {                                                                                                                                                               │
│         // arrange                                                                                                                                                                                              │
│         Pair pair = createPairScript.create(address(bayc), address(usd), "YEET-mids.json", address(c));                                                                                                         │
│         proofs = createPairScript.generateMerkleProofs("YEET-mids.json", tokenIds);                                                                                                                             │
│         bayc.setApprovalForAll(address(pair), true);                                                                                                                                                            │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         pair.wrap(tokenIds, proofs);                                                                                                                                                                            │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         for (uint256 i = 0; i < tokenIds.length; i++) {                                                                                                                                                         │
│             assertEq(bayc.ownerOf(i), address(pair), "Should have sent bayc to pair");                                                                                                                          │
│         }                                                                                                                                                                                                       │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                    │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                │
│ Code:                                                                                                                                                                                                           │
│     function testItBurnsFractionalTokens() public {                                                                                                                                                             │
│         // arrange                                                                                                                                                                                              │
│         uint256 expectedFractionalTokensBurned = tokenIds.length * 1e18;                                                                                                                                        │
│         uint256 balanceBefore = p.balanceOf(address(this));                                                                                                                                                     │
│         uint256 totalSupplyBefore = p.totalSupply();                                                                                                                                                            │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         p.unwrap(tokenIds);                                                                                                                                                                                     │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(                                                                                                                                                                                               │
│             balanceBefore - p.balanceOf(address(this)),                                                                                                                                                         │
│             expectedFractionalTokensBurned,                                                                                                                                                                     │
│             "Should have burned fractional tokens from sender"                                                                                                                                                  │
│         );                                                                                                                                                                                                      │
│                                                                                                                                                                                                                 │
│         assertEq(                                                                                                                                                                                               │
│             totalSupplyBefore - p.totalSupply(), expectedFractionalTokensBurned, "Should have burned fractional tokens"                                                                                         │
│         );                                                                                                                                                                                                      │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: involve transfering token from an address different from message sender                                                                                                                              │
│ have code statements that get or calculate LP token's value/price                                                                                                                                               │
│ Code:                                                                                                                                                                                                           │
│     function testItTransfersBaseTokens() public {                                                                                                                                                               │
│         // arrange                                                                                                                                                                                              │
│         uint256 balanceBefore = usd.balanceOf(address(p));                                                                                                                                                      │
│         uint256 thisBalanceBefore = usd.balanceOf(address(this));                                                                                                                                               │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         p.sell(inputAmount, minOutputAmount);                                                                                                                                                                   │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(                                                                                                                                                                                               │
│             balanceBefore - usd.balanceOf(address(p)), minOutputAmount, "Should have transferred base tokens from pair"                                                                                         │
│         );                                                                                                                                                                                                      │
│         assertEq(                                                                                                                                                                                               │
│             usd.balanceOf(address(this)) - thisBalanceBefore,                                                                                                                                                   │
│             minOutputAmount,                                                                                                                                                                                    │
│             "Should have transferred base tokens to sender"                                                                                                                                                     │
│         );                                                                                                                                                                                                      │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: involve transfering token from an address different from message sender                                                                                                                              │
│ have code statements that get or calculate LP token's value/price                                                                                                                                               │
│ Code:                                                                                                                                                                                                           │
│     function testItTransfersFractionalTokens() public {                                                                                                                                                         │
│         // arrange                                                                                                                                                                                              │
│         uint256 balanceBefore = p.balanceOf(address(p));                                                                                                                                                        │
│         uint256 thisBalanceBefore = p.balanceOf(address(this));                                                                                                                                                 │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         p.sell(inputAmount, minOutputAmount);                                                                                                                                                                   │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(                                                                                                                                                                                               │
│             thisBalanceBefore - p.balanceOf(address(this)),                                                                                                                                                     │
│             inputAmount,                                                                                                                                                                                        │
│             "Should have transferred fractional tokens from sender"                                                                                                                                             │
│         );                                                                                                                                                                                                      │
│         assertEq(                                                                                                                                                                                               │
│             p.balanceOf(address(p)) - balanceBefore, inputAmount, "Should have transferred fractional tokens to pair"                                                                                           │
│         );                                                                                                                                                                                                      │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: involve transfering token from an address different from message sender                                                                                                                              │
│ Code:                                                                                                                                                                                                           │
│     function testItTransfersEther() public {                                                                                                                                                                    │
│         // arrange                                                                                                                                                                                              │
│         uint256 balanceBefore = address(ethPair).balance;                                                                                                                                                       │
│         uint256 thisBalanceBefore = address(this).balance;                                                                                                                                                      │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         ethPair.sell(inputAmount, minOutputAmount);                                                                                                                                                             │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(balanceBefore - address(ethPair).balance, minOutputAmount, "Should have transferred ether from pair");                                                                                         │
│         assertEq(address(this).balance - thisBalanceBefore, minOutputAmount, "Should have transferred ether to sender");                                                                                        │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "Yes"                                                                                                                                                                                                  │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭──────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ─────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: involve transfering token from an address different from message sender and there is no check of allowance/approval from the address owner                                                           │
│ Code:                                                                                                                                                                                                           │
│     function testItTransfersEther() public {                                                                                                                                                                    │
│         // arrange                                                                                                                                                                                              │
│         uint256 balanceBefore = address(ethPair).balance;                                                                                                                                                       │
│         uint256 thisBalanceBefore = address(this).balance;                                                                                                                                                      │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         ethPair.sell(inputAmount, minOutputAmount);                                                                                                                                                             │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(balanceBefore - address(ethPair).balance, minOutputAmount, "Should have transferred ether from pair");                                                                                         │
│         assertEq(address(this).balance - thisBalanceBefore, minOutputAmount, "Should have transferred ether to sender");                                                                                        │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ No                                                                                                                                                                                                              │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: involve transfering token from an address different from message sender                                                                                                                              │
│ Code:                                                                                                                                                                                                           │
│     function testItTransfersNftsAfterWithdraw() public {                                                                                                                                                        │
│         // arrange                                                                                                                                                                                              │
│         p.close();                                                                                                                                                                                              │
│         skip(7 days);                                                                                                                                                                                           │
│         uint256 tokenId = 1;                                                                                                                                                                                    │
│         bayc.transferFrom(address(this), address(p), tokenId);                                                                                                                                                  │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         p.withdraw(tokenId);                                                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(bayc.ownerOf(tokenId), address(this), "Should have sent bayc to sender");                                                                                                                      │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "Yes"                                                                                                                                                                                                  │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭──────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ─────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: involve transfering token from an address different from message sender and there is no check of allowance/approval from the address owner                                                           │
│ Code:                                                                                                                                                                                                           │
│     function testItTransfersNftsAfterWithdraw() public {                                                                                                                                                        │
│         // arrange                                                                                                                                                                                              │
│         p.close();                                                                                                                                                                                              │
│         skip(7 days);                                                                                                                                                                                           │
│         uint256 tokenId = 1;                                                                                                                                                                                    │
│         bayc.transferFrom(address(this), address(p), tokenId);                                                                                                                                                  │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         p.withdraw(tokenId);                                                                                                                                                                                    │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(bayc.ownerOf(tokenId), address(this), "Should have sent bayc to sender");                                                                                                                      │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ No                                                                                                                                                                                                              │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: involve transfering token from an address different from message sender                                                                                                                              │
│ have code statements that get or calculate LP token's value/price                                                                                                                                               │
│ Code:                                                                                                                                                                                                           │
│     function testItTransfersBaseTokens() public {                                                                                                                                                               │
│         // arrange                                                                                                                                                                                              │
│         uint256 balanceBefore = usd.balanceOf(address(p));                                                                                                                                                      │
│         uint256 thisBalanceBefore = usd.balanceOf(address(this));                                                                                                                                               │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         p.nftBuy(tokenIds, maxInputAmount);                                                                                                                                                                     │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(                                                                                                                                                                                               │
│             usd.balanceOf(address(p)) - balanceBefore, maxInputAmount, "Should have transferred base tokens to pair"                                                                                            │
│         );                                                                                                                                                                                                      │
│         assertEq(                                                                                                                                                                                               │
│             thisBalanceBefore - usd.balanceOf(address(this)),                                                                                                                                                   │
│             maxInputAmount,                                                                                                                                                                                     │
│             "Should have transferred base tokens from sender"                                                                                                                                                   │
│         );                                                                                                                                                                                                      │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                    │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                │
│ Code:                                                                                                                                                                                                           │
│     function testItBurnsFractionalTokens() public {                                                                                                                                                             │
│         // arrange                                                                                                                                                                                              │
│         uint256 totalSupplyBefore = p.totalSupply();                                                                                                                                                            │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         p.nftBuy(tokenIds, maxInputAmount);                                                                                                                                                                     │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(totalSupplyBefore - p.totalSupply(), tokenIds.length * 1e18, "Should have burned fractional tokens");                                                                                          │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                    │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                │
│ Code:                                                                                                                                                                                                           │
│     function testItBurnsLpTokens() public {                                                                                                                                                                     │
│         // arrange                                                                                                                                                                                              │
│         uint256 lpTokenAmount = (totalLpTokenAmount * tokenIds.length * 1e18) / p.fractionalTokenReserves();                                                                                                    │
│         uint256 minBaseTokenOutputAmount = (totalBaseTokenAmount * tokenIds.length * 1e18) / p.fractionalTokenReserves();                                                                                       │
│         uint256 balanceBefore = lpToken.balanceOf(address(this));                                                                                                                                               │
│         uint256 totalSupplyBefore = lpToken.totalSupply();                                                                                                                                                      │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         p.nftRemove(lpTokenAmount, minBaseTokenOutputAmount, tokenIds);                                                                                                                                         │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(                                                                                                                                                                                               │
│             balanceBefore - lpToken.balanceOf(address(this)), lpTokenAmount, "Should have burned lp tokens from sender"                                                                                         │
│         );                                                                                                                                                                                                      │
│         assertEq(totalSupplyBefore - lpToken.totalSupply(), lpTokenAmount, "Should have burned lp tokens");                                                                                                     │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: involve transfering token from an address different from message sender                                                                                                                              │
│ have code statements that get or calculate LP token's value/price                                                                                                                                               │
│ Code:                                                                                                                                                                                                           │
│     function testItTransfersBaseTokens() public {                                                                                                                                                               │
│         // arrange                                                                                                                                                                                              │
│         uint256 lpTokenAmount = (totalLpTokenAmount * tokenIds.length * 1e18) / p.fractionalTokenReserves();                                                                                                    │
│         uint256 minBaseTokenOutputAmount = (totalBaseTokenAmount * tokenIds.length * 1e18) / p.fractionalTokenReserves();                                                                                       │
│         uint256 thisBalanceBefore = usd.balanceOf(address(this));                                                                                                                                               │
│         uint256 balanceBefore = usd.balanceOf(address(p));                                                                                                                                                      │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         p.nftRemove(lpTokenAmount, minBaseTokenOutputAmount, tokenIds);                                                                                                                                         │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(                                                                                                                                                                                               │
│             usd.balanceOf(address(this)) - thisBalanceBefore,                                                                                                                                                   │
│             minBaseTokenOutputAmount,                                                                                                                                                                           │
│             "Should have transferred base tokens to sender"                                                                                                                                                     │
│         );                                                                                                                                                                                                      │
│                                                                                                                                                                                                                 │
│         assertEq(                                                                                                                                                                                               │
│             balanceBefore - usd.balanceOf(address(p)),                                                                                                                                                          │
│             minBaseTokenOutputAmount,                                                                                                                                                                           │
│             "Should have transferred base tokens from pair"                                                                                                                                                     │
│         );                                                                                                                                                                                                      │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                    │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                │
│ Code:                                                                                                                                                                                                           │
│     function testItReturnsBaseTokenAmountAndFractionalTokenAmount(uint256 fractionToRemove) public {                                                                                                            │
│         // arrange                                                                                                                                                                                              │
│         fractionToRemove = bound(fractionToRemove, 0, 1e18);                                                                                                                                                    │
│         uint256 lpTokenAmount = totalLpTokenAmount * fractionToRemove / 1e18;                                                                                                                                   │
│         uint256 expectedBaseTokenAmount = totalBaseTokenAmount * lpTokenAmount / lpToken.totalSupply();                                                                                                         │
│         uint256 expectedFractionalTokenAmount = totalFractionalTokenAmount * lpTokenAmount / lpToken.totalSupply();                                                                                             │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         (uint256 baseTokenAmount, uint256 fractionalTokenAmount) =                                                                                                                                              │
│             p.remove(lpTokenAmount, expectedBaseTokenAmount, expectedFractionalTokenAmount);                                                                                                                    │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(baseTokenAmount, expectedBaseTokenAmount, "Should have returned correct base token amount");                                                                                                   │
│         assertEq(                                                                                                                                                                                               │
│             fractionalTokenAmount, expectedFractionalTokenAmount, "Should have returned correct fractional token amount"                                                                                        │
│         );                                                                                                                                                                                                      │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                    │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                │
│ Code:                                                                                                                                                                                                           │
│     function testItBurnsLpTokens() public {                                                                                                                                                                     │
│         // arrange                                                                                                                                                                                              │
│         uint256 lpTokenAmount = totalLpTokenAmount / 2;                                                                                                                                                         │
│         uint256 minBaseTokenOutputAmount = totalBaseTokenAmount / 2;                                                                                                                                            │
│         uint256 minFractionalTokenOutputAmount = totalFractionalTokenAmount / 2;                                                                                                                                │
│         uint256 balanceBefore = lpToken.balanceOf(address(this));                                                                                                                                               │
│         uint256 totalSupplyBefore = lpToken.totalSupply();                                                                                                                                                      │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         p.remove(lpTokenAmount, minBaseTokenOutputAmount, minFractionalTokenOutputAmount);                                                                                                                      │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(                                                                                                                                                                                               │
│             balanceBefore - lpToken.balanceOf(address(this)), lpTokenAmount, "Should have burned lp tokens from sender"                                                                                         │
│         );                                                                                                                                                                                                      │
│         assertEq(totalSupplyBefore - lpToken.totalSupply(), lpTokenAmount, "Should have burned lp tokens");                                                                                                     │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: involve transfering token from an address different from message sender                                                                                                                              │
│ have code statements that get or calculate LP token's value/price                                                                                                                                               │
│ Code:                                                                                                                                                                                                           │
│     function testItTransfersBaseTokens() public {                                                                                                                                                               │
│         // arrange                                                                                                                                                                                              │
│         uint256 lpTokenAmount = totalLpTokenAmount / 2;                                                                                                                                                         │
│         uint256 minBaseTokenOutputAmount = totalBaseTokenAmount / 2;                                                                                                                                            │
│         uint256 minFractionalTokenOutputAmount = totalFractionalTokenAmount / 2;                                                                                                                                │
│         uint256 thisBalanceBefore = usd.balanceOf(address(this));                                                                                                                                               │
│         uint256 balanceBefore = usd.balanceOf(address(p));                                                                                                                                                      │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         p.remove(lpTokenAmount, minBaseTokenOutputAmount, minFractionalTokenOutputAmount);                                                                                                                      │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(                                                                                                                                                                                               │
│             usd.balanceOf(address(this)) - thisBalanceBefore,                                                                                                                                                   │
│             minBaseTokenOutputAmount,                                                                                                                                                                           │
│             "Should have transferred base tokens to sender"                                                                                                                                                     │
│         );                                                                                                                                                                                                      │
│                                                                                                                                                                                                                 │
│         assertEq(                                                                                                                                                                                               │
│             balanceBefore - usd.balanceOf(address(p)),                                                                                                                                                          │
│             minBaseTokenOutputAmount,                                                                                                                                                                           │
│             "Should have transferred base tokens from pair"                                                                                                                                                     │
│         );                                                                                                                                                                                                      │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: involve transfering token from an address different from message sender                                                                                                                              │
│ have code statements that get or calculate LP token's value/price                                                                                                                                               │
│ Code:                                                                                                                                                                                                           │
│     function testItTransfersFractionalTokens() public {                                                                                                                                                         │
│         // arrange                                                                                                                                                                                              │
│         uint256 lpTokenAmount = totalLpTokenAmount / 2;                                                                                                                                                         │
│         uint256 minBaseTokenOutputAmount = totalBaseTokenAmount / 2;                                                                                                                                            │
│         uint256 minFractionalTokenOutputAmount = totalFractionalTokenAmount / 2;                                                                                                                                │
│         uint256 thisBalanceBefore = p.balanceOf(address(this));                                                                                                                                                 │
│         uint256 balanceBefore = p.balanceOf(address(p));                                                                                                                                                        │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         p.remove(lpTokenAmount, minBaseTokenOutputAmount, minFractionalTokenOutputAmount);                                                                                                                      │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(                                                                                                                                                                                               │
│             p.balanceOf(address(this)) - thisBalanceBefore,                                                                                                                                                     │
│             minFractionalTokenOutputAmount,                                                                                                                                                                     │
│             "Should have transferred fractionall tokens to sender"                                                                                                                                              │
│         );                                                                                                                                                                                                      │
│                                                                                                                                                                                                                 │
│         assertEq(                                                                                                                                                                                               │
│             balanceBefore - p.balanceOf(address(p)),                                                                                                                                                            │
│             minFractionalTokenOutputAmount,                                                                                                                                                                     │
│             "Should have transferred fractional tokens from pair"                                                                                                                                               │
│         );                                                                                                                                                                                                      │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: involve transfering token from an address different from message sender                                                                                                                              │
│ Code:                                                                                                                                                                                                           │
│     function testItTransfersEther() public {                                                                                                                                                                    │
│         // arrange                                                                                                                                                                                              │
│         uint256 lpTokenAmount = totalLpTokenAmount / 2;                                                                                                                                                         │
│         uint256 minBaseTokenOutputAmount = totalBaseTokenAmount / 2;                                                                                                                                            │
│         uint256 minFractionalTokenOutputAmount = totalFractionalTokenAmount / 2;                                                                                                                                │
│         uint256 thisBalanceBefore = address(this).balance;                                                                                                                                                      │
│         uint256 balanceBefore = address(ethPair).balance;                                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         ethPair.remove(lpTokenAmount, minBaseTokenOutputAmount, minFractionalTokenOutputAmount);                                                                                                                │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(                                                                                                                                                                                               │
│             address(this).balance - thisBalanceBefore,                                                                                                                                                          │
│             minBaseTokenOutputAmount,                                                                                                                                                                           │
│             "Should have transferred ether to sender"                                                                                                                                                           │
│         );                                                                                                                                                                                                      │
│                                                                                                                                                                                                                 │
│         assertEq(                                                                                                                                                                                               │
│             balanceBefore - address(ethPair).balance,                                                                                                                                                           │
│             minBaseTokenOutputAmount,                                                                                                                                                                           │
│             "Should have transferred ether from pair"                                                                                                                                                           │
│         );                                                                                                                                                                                                      │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "Yes"                                                                                                                                                                                                  │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭──────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ─────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: involve transfering token from an address different from message sender and there is no check of allowance/approval from the address owner                                                           │
│ Code:                                                                                                                                                                                                           │
│     function testItTransfersEther() public {                                                                                                                                                                    │
│         // arrange                                                                                                                                                                                              │
│         uint256 lpTokenAmount = totalLpTokenAmount / 2;                                                                                                                                                         │
│         uint256 minBaseTokenOutputAmount = totalBaseTokenAmount / 2;                                                                                                                                            │
│         uint256 minFractionalTokenOutputAmount = totalFractionalTokenAmount / 2;                                                                                                                                │
│         uint256 thisBalanceBefore = address(this).balance;                                                                                                                                                      │
│         uint256 balanceBefore = address(ethPair).balance;                                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         ethPair.remove(lpTokenAmount, minBaseTokenOutputAmount, minFractionalTokenOutputAmount);                                                                                                                │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertEq(                                                                                                                                                                                               │
│             address(this).balance - thisBalanceBefore,                                                                                                                                                          │
│             minBaseTokenOutputAmount,                                                                                                                                                                           │
│             "Should have transferred ether to sender"                                                                                                                                                           │
│         );                                                                                                                                                                                                      │
│                                                                                                                                                                                                                 │
│         assertEq(                                                                                                                                                                                               │
│             balanceBefore - address(ethPair).balance,                                                                                                                                                           │
│             minBaseTokenOutputAmount,                                                                                                                                                                           │
│             "Should have transferred ether from pair"                                                                                                                                                           │
│         );                                                                                                                                                                                                      │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ No                                                                                                                                                                                                              │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                    │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                │
│ Code:                                                                                                                                                                                                           │
│     function testItAddsBuysSellsRemovesCorrectAmount(                                                                                                                                                           │
│         uint256 addBaseTokenAmount,                                                                                                                                                                             │
│         uint256 addFractionalTokenAmount,                                                                                                                                                                       │
│         uint256 buyTokenAmount                                                                                                                                                                                  │
│     ) public {                                                                                                                                                                                                  │
│         addBaseTokenAmount = bound(addBaseTokenAmount, 100, type(uint96).max);                                                                                                                                  │
│         addFractionalTokenAmount = bound(addFractionalTokenAmount, 2, 10_000_000 * 1e18);                                                                                                                       │
│         buyTokenAmount = bound(buyTokenAmount, 1, addFractionalTokenAmount - 1);                                                                                                                                │
│                                                                                                                                                                                                                 │
│         // add liquidity                                                                                                                                                                                        │
│         deal(address(usd), address(this), addBaseTokenAmount, true);                                                                                                                                            │
│         deal(address(p), address(this), addFractionalTokenAmount, true);                                                                                                                                        │
│         uint256 lpTokenAmount = Math.sqrt(addBaseTokenAmount * addFractionalTokenAmount);                                                                                                                       │
│         usd.approve(address(p), type(uint256).max);                                                                                                                                                             │
│         p.add(addBaseTokenAmount, addFractionalTokenAmount, lpTokenAmount);                                                                                                                                     │
│                                                                                                                                                                                                                 │
│         // buy some amount                                                                                                                                                                                      │
│         uint256 baseTokenBuyAmount = p.buyQuote(buyTokenAmount);                                                                                                                                                │
│         deal(address(usd), address(this), baseTokenBuyAmount, true);                                                                                                                                            │
│         p.buy(buyTokenAmount, baseTokenBuyAmount);                                                                                                                                                              │
│                                                                                                                                                                                                                 │
│         // remove some fraction of liquidity                                                                                                                                                                    │
│         uint256 removeLpTokenAmount = lpTokenAmount / 10;                                                                                                                                                       │
│         uint256 expectedBaseTokenAmount = p.baseTokenReserves() * removeLpTokenAmount / lpToken.totalSupply();                                                                                                  │
│         uint256 expectedFractionalTokenAmount =                                                                                                                                                                 │
│             p.fractionalTokenReserves() * removeLpTokenAmount / lpToken.totalSupply();                                                                                                                          │
│         (uint256 baseTokenOutputAmount, uint256 fractionalTokenOutputAmount) = p.remove(removeLpTokenAmount, 0, 0);                                                                                             │
│                                                                                                                                                                                                                 │
│         assertEq(baseTokenOutputAmount, expectedBaseTokenAmount, "Should have removed correct base token amount");                                                                                              │
│         assertEq(                                                                                                                                                                                               │
│             fractionalTokenOutputAmount,                                                                                                                                                                        │
│             expectedFractionalTokenAmount,                                                                                                                                                                      │
│             "Should have removed correct fractional token amount"                                                                                                                                               │
│         );                                                                                                                                                                                                      │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No",                                                                                                                                                                                                  │
│     "2": "Yes"                                                                                                                                                                                                  │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭──────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ─────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: deposit/mint/add the liquidity pool/amount/share and set the total share to the number of first deposit when the supply/liquidity is 0                                                               │
│ Code:                                                                                                                                                                                                           │
│     function testItAddsBuysSellsRemovesCorrectAmount(                                                                                                                                                           │
│         uint256 addBaseTokenAmount,                                                                                                                                                                             │
│         uint256 addFractionalTokenAmount,                                                                                                                                                                       │
│         uint256 buyTokenAmount                                                                                                                                                                                  │
│     ) public {                                                                                                                                                                                                  │
│         addBaseTokenAmount = bound(addBaseTokenAmount, 100, type(uint96).max);                                                                                                                                  │
│         addFractionalTokenAmount = bound(addFractionalTokenAmount, 2, 10_000_000 * 1e18);                                                                                                                       │
│         buyTokenAmount = bound(buyTokenAmount, 1, addFractionalTokenAmount - 1);                                                                                                                                │
│                                                                                                                                                                                                                 │
│         // add liquidity                                                                                                                                                                                        │
│         deal(address(usd), address(this), addBaseTokenAmount, true);                                                                                                                                            │
│         deal(address(p), address(this), addFractionalTokenAmount, true);                                                                                                                                        │
│         uint256 lpTokenAmount = Math.sqrt(addBaseTokenAmount * addFractionalTokenAmount);                                                                                                                       │
│         usd.approve(address(p), type(uint256).max);                                                                                                                                                             │
│         p.add(addBaseTokenAmount, addFractionalTokenAmount, lpTokenAmount);                                                                                                                                     │
│                                                                                                                                                                                                                 │
│         // buy some amount                                                                                                                                                                                      │
│         uint256 baseTokenBuyAmount = p.buyQuote(buyTokenAmount);                                                                                                                                                │
│         deal(address(usd), address(this), baseTokenBuyAmount, true);                                                                                                                                            │
│         p.buy(buyTokenAmount, baseTokenBuyAmount);                                                                                                                                                              │
│                                                                                                                                                                                                                 │
│         // remove some fraction of liquidity                                                                                                                                                                    │
│         uint256 removeLpTokenAmount = lpTokenAmount / 10;                                                                                                                                                       │
│         uint256 expectedBaseTokenAmount = p.baseTokenReserves() * removeLpTokenAmount / lpToken.totalSupply();                                                                                                  │
│         uint256 expectedFractionalTokenAmount =                                                                                                                                                                 │
│             p.fractionalTokenReserves() * removeLpTokenAmount / lpToken.totalSupply();                                                                                                                          │
│         (uint256 baseTokenOutputAmount, uint256 fractionalTokenOutputAmount) = p.remove(removeLpTokenAmount, 0, 0);                                                                                             │
│                                                                                                                                                                                                                 │
│         assertEq(baseTokenOutputAmount, expectedBaseTokenAmount, "Should have removed correct base token amount");                                                                                              │
│         assertEq(                                                                                                                                                                                               │
│             fractionalTokenOutputAmount,                                                                                                                                                                        │
│             expectedFractionalTokenAmount,                                                                                                                                                                      │
│             "Should have removed correct fractional token amount"                                                                                                                                               │
│         );                                                                                                                                                                                                      │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ No                                                                                                                                                                                                              │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                    │
│ Code:                                                                                                                                                                                                           │
│     function testItBuysSellsEqualAmounts(uint256 outputAmount) public {                                                                                                                                         │
│         outputAmount = bound(outputAmount, 1e2, p.fractionalTokenReserves() - 1e18);                                                                                                                            │
│         uint256 maxInputAmount =                                                                                                                                                                                │
│             (outputAmount * p.baseTokenReserves() * 1000) / ((p.fractionalTokenReserves() - outputAmount) * 997);                                                                                               │
│         deal(address(usd), address(this), maxInputAmount, true);                                                                                                                                                │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         p.buy(outputAmount, maxInputAmount);                                                                                                                                                                    │
│         p.sell(outputAmount, 0);                                                                                                                                                                                │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertApproxEqAbs(                                                                                                                                                                                      │
│             usd.balanceOf(address(this)),                                                                                                                                                                       │
│             maxInputAmount,                                                                                                                                                                                     │
│             maxInputAmount - (((maxInputAmount * 997) / 1000) * 997) / 1000, // allow margin of error for approx. fee amount                                                                                    │
│             "Should have bought and sold equal amounts of assets"                                                                                                                                               │
│         );                                                                                                                                                                                                      │
│                                                                                                                                                                                                                 │
│         assertGt(                                                                                                                                                                                               │
│             maxInputAmount, usd.balanceOf(address(this)), "Should have less usd than starting with because of fees"                                                                                             │
│         );                                                                                                                                                                                                      │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "Yes"                                                                                                                                                                                                  │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭──────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ─────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price based on the market reserves/AMMprice/exchangeRate OR the custom token balanceOf/totalSupply/amount/liquidity calculation          │
│ Code:                                                                                                                                                                                                           │
│     function testItBuysSellsEqualAmounts(uint256 outputAmount) public {                                                                                                                                         │
│         outputAmount = bound(outputAmount, 1e2, p.fractionalTokenReserves() - 1e18);                                                                                                                            │
│         uint256 maxInputAmount =                                                                                                                                                                                │
│             (outputAmount * p.baseTokenReserves() * 1000) / ((p.fractionalTokenReserves() - outputAmount) * 997);                                                                                               │
│         deal(address(usd), address(this), maxInputAmount, true);                                                                                                                                                │
│                                                                                                                                                                                                                 │
│         // act                                                                                                                                                                                                  │
│         p.buy(outputAmount, maxInputAmount);                                                                                                                                                                    │
│         p.sell(outputAmount, 0);                                                                                                                                                                                │
│                                                                                                                                                                                                                 │
│         // assert                                                                                                                                                                                               │
│         assertApproxEqAbs(                                                                                                                                                                                      │
│             usd.balanceOf(address(this)),                                                                                                                                                                       │
│             maxInputAmount,                                                                                                                                                                                     │
│             maxInputAmount - (((maxInputAmount * 997) / 1000) * 997) / 1000, // allow margin of error for approx. fee amount                                                                                    │
│             "Should have bought and sold equal amounts of assets"                                                                                                                                               │
│         );                                                                                                                                                                                                      │
│                                                                                                                                                                                                                 │
│         assertGt(                                                                                                                                                                                               │
│             maxInputAmount, usd.balanceOf(address(this)), "Should have less usd than starting with because of fees"                                                                                             │
│         );                                                                                                                                                                                                      │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Yes                                                                                                                                                                                                             │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have inside code statements that update/accrue interest/exchange rate,                                                                                                                               │
│ Code:                                                                                                                                                                                                           │
│     function create(address nft, address baseToken, string memory rankingFile, address caviar) public returns (Pair) {                                                                                          │
│         // generate the merkle root                                                                                                                                                                             │
│         bytes32 merkleRoot = generateMerkleRoot(rankingFile);                                                                                                                                                   │
│                                                                                                                                                                                                                 │
│         // create the pair                                                                                                                                                                                      │
│         Pair pair = Caviar(caviar).create(nft, baseToken, merkleRoot);                                                                                                                                          │
│         console.log("pair:", address(pair));                                                                                                                                                                    │
│         console.log("merkle root:");                                                                                                                                                                            │
│         console.logBytes32(merkleRoot);                                                                                                                                                                         │
│                                                                                                                                                                                                                 │
│         return pair;                                                                                                                                                                                            │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have inside code statements that update/accrue interest/exchange rate,                                                                                                                               │
│ Code:                                                                                                                                                                                                           │
│     function generateMerkleRoot(string memory rankingFile) public returns (bytes32) {                                                                                                                           │
│         string[] memory inputs = new string[](3);                                                                                                                                                               │
│                                                                                                                                                                                                                 │
│         inputs[0] = "node";                                                                                                                                                                                     │
│         inputs[1] = "./script/helpers/generate-merkle-root.js";                                                                                                                                                 │
│         inputs[2] = rankingFile;                                                                                                                                                                                │
│                                                                                                                                                                                                                 │
│         bytes memory res = vm.ffi(inputs);                                                                                                                                                                      │
│         bytes32 output = abi.decode(res, (bytes32));                                                                                                                                                            │
│                                                                                                                                                                                                                 │
│         return output;                                                                                                                                                                                          │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ───────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have inside code statements that update/accrue interest/exchange rate,                                                                                                                               │
│ Code:                                                                                                                                                                                                           │
│     function generateMerkleProofs(string memory rankingFile, uint256[] memory tokenIds)                                                                                                                         │
│         public                                                                                                                                                                                                  │
│         returns (bytes32[][] memory)                                                                                                                                                                            │
│     {                                                                                                                                                                                                           │
│         bytes32[][] memory proofs = new bytes32[][](tokenIds.length);                                                                                                                                           │
│                                                                                                                                                                                                                 │
│         string[] memory inputs = new string[](4);                                                                                                                                                               │
│         for (uint256 i = 0; i < tokenIds.length; i++) {                                                                                                                                                         │
│             inputs[0] = "node";                                                                                                                                                                                 │
│             inputs[1] = "./script/helpers/generate-merkle-proof.js";                                                                                                                                            │
│             inputs[2] = rankingFile;                                                                                                                                                                            │
│             inputs[3] = LibString.toString(tokenIds);                                                                                                                                                           │
│                                                                                                                                                                                                                 │
│             bytes memory res = vm.ffi(inputs);                                                                                                                                                                  │
│             bytes32[] memory output = abi.decode(res, (bytes32[]));                                                                                                                                             │
│             proofs = output;                                                                                                                                                                                    │
│         }                                                                                                                                                                                                       │
│                                                                                                                                                                                                                 │
│         return proofs;                                                                                                                                                                                          │
│     }                                                                                                                                                                                                           │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "1": "No"                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "VariableA": {                                                                                                                                                                                              │
│         "baseTokenReserves()": "Function holding the market reserves for base token",                                                                                                                           │
│         "fractionalTokenReserves()": "Function holding the market reserves for fractional token"                                                                                                                │
│     },                                                                                                                                                                                                          │
│     "VariableB": {                                                                                                                                                                                              │
│         "lpTokenSupply": "Variable holding the calculated value/price of LP token"                                                                                                                              │
│     }                                                                                                                                                                                                           │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
[12/08/24 20:05:40] ERROR    tasks: Static analysis failed: Invalid args                                                                                                                               tasks.py:258
                    ERROR    tasks: Current File: /home/owen/Documents/GitHub/GPTScan-Bigger-Model/datasets/code-423n4-Web3Bugs-data/2022-12-caviar-main/src/Pair.sol, current function: addQuote,     tasks.py:260
                             current vul: price-manipulation                                                                                                                                                       
                    ERROR    tasks: Traceback (most recent call last):                                                                                                                                 tasks.py:262
                               File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/src/tasks.py", line 254, in simple_cli                                                                                       
                                 res_1 = static_check.run_static_check(checker, args, function1, falcon_instance,                                                                                                  
                             UnboundLocalError: local variable 'falcon_instance' referenced before assignment                                                                                                      
                                                                                                                                                                                                                   
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "VariableA": {                                                                                                                                                                                              │
│         "lpTokenAmount": "The variable holding the calculated value of LP token shares to mint"                                                                                                                 │
│     },                                                                                                                                                                                                          │
│     "VariableB": {                                                                                                                                                                                              │
│         "lpTokenAmount": "The variable holding the calculated value of LP token shares to mint"                                                                                                                 │
│     }                                                                                                                                                                                                           │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
[12/08/24 20:05:41] ERROR    tasks: Static analysis failed: Invalid args                                                                                                                               tasks.py:357
                    ERROR    tasks: Current File: /home/owen/Documents/GitHub/GPTScan-Bigger-Model/datasets/code-423n4-Web3Bugs-data/2022-12-caviar-main/src/Pair.sol, current function: addQuote,     tasks.py:359
                             current vul: price-manipulation                                                                                                                                                       
                    ERROR    tasks: Traceback (most recent call last):                                                                                                                                 tasks.py:361
                               File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/src/tasks.py", line 355, in simple_cli                                                                                       
                                 falcon_instance, function2_text)                                                                                                                                                  
                             UnboundLocalError: local variable 'falcon_instance' referenced before assignment                                                                                                      
                                                                                                                                                                                                                   
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "VariableA": {                                                                                                                                                                                              │
│         "lpTokenSupply": "Holds the value of total minted share or amount"                                                                                                                                      │
│     },                                                                                                                                                                                                          │
│     "VariableB": {                                                                                                                                                                                              │
│         "lpToken": "Holds the total supply/liquidity AND is used by the conditional branch to determine the supply/liquidity is 0"                                                                              │
│     },                                                                                                                                                                                                          │
│     "VariableC": {                                                                                                                                                                                              │
│         "baseTokenAmount, fractionalTokenAmount": "Hold the value of the deposit/mint/add amount"                                                                                                               │
│     }                                                                                                                                                                                                           │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
[12/08/24 20:05:42] ERROR    tasks: Static analysis failed: Invalid args                                                                                                                               tasks.py:258
                    ERROR    tasks: Current File: /home/owen/Documents/GitHub/GPTScan-Bigger-Model/datasets/code-423n4-Web3Bugs-data/2022-12-caviar-main/src/Pair.sol, current function: addQuote,     tasks.py:260
                             current vul: first-deposit                                                                                                                                                            
                    ERROR    tasks: Traceback (most recent call last):                                                                                                                                 tasks.py:262
                               File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/src/tasks.py", line 254, in simple_cli                                                                                       
                                 res_1 = static_check.run_static_check(checker, args, function1, falcon_instance,                                                                                                  
                             UnboundLocalError: local variable 'falcon_instance' referenced before assignment                                                                                                      
                                                                                                                                                                                                                   
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "VariableA": {                                                                                                                                                                                              │
│         "lpTokenAmount": "Value of total minted share or amount"                                                                                                                                                │
│     },                                                                                                                                                                                                          │
│     "VariableB": {                                                                                                                                                                                              │
│         "lpTokenAmount": "Total supply/liquidity used in conditional branch to determine if supply/liquidity is 0"                                                                                              │
│     },                                                                                                                                                                                                          │
│     "VariableC": {                                                                                                                                                                                              │
│         "baseTokenAmount": "Value of the deposit/mint/add amount"                                                                                                                                               │
│     }                                                                                                                                                                                                           │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
[12/08/24 20:05:43] ERROR    tasks: Static analysis failed: Invalid args                                                                                                                               tasks.py:357
                    ERROR    tasks: Current File: /home/owen/Documents/GitHub/GPTScan-Bigger-Model/datasets/code-423n4-Web3Bugs-data/2022-12-caviar-main/src/Pair.sol, current function: addQuote,     tasks.py:359
                             current vul: first-deposit                                                                                                                                                            
                    ERROR    tasks: Traceback (most recent call last):                                                                                                                                 tasks.py:361
                               File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/src/tasks.py", line 355, in simple_cli                                                                                       
                                 falcon_instance, function2_text)                                                                                                                                                  
                             UnboundLocalError: local variable 'falcon_instance' referenced before assignment                                                                                                      
                                                                                                                                                                                                                   
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "VariableA": {                                                                                                                                                                                              │
│         "lpTokenSupply": "Variable holding the LP token total supply",                                                                                                                                          │
│         "baseTokenReserves()": "Function holding the market reserves/AMM price/exchange rate for the base token",                                                                                               │
│         "fractionalTokenReserves()": "Function holding the market reserves/AMM price/exchange rate for the fractional token"                                                                                    │
│     },                                                                                                                                                                                                          │
│     "VariableB": {                                                                                                                                                                                              │
│         "baseTokenOutputAmount": "Variable holding the calculated value/price of LP token for the base token"                                                                                                   │
│     }                                                                                                                                                                                                           │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
[12/08/24 20:05:44] ERROR    tasks: Static analysis failed: Invalid args                                                                                                                               tasks.py:258
                    ERROR    tasks: Current File: /home/owen/Documents/GitHub/GPTScan-Bigger-Model/datasets/code-423n4-Web3Bugs-data/2022-12-caviar-main/src/Pair.sol, current function: removeQuote,  tasks.py:260
                             current vul: price-manipulation                                                                                                                                                       
                    ERROR    tasks: Traceback (most recent call last):                                                                                                                                 tasks.py:262
                               File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/src/tasks.py", line 254, in simple_cli                                                                                       
                                 res_1 = static_check.run_static_check(checker, args, function1, falcon_instance,                                                                                                  
                             UnboundLocalError: local variable 'falcon_instance' referenced before assignment                                                                                                      
                                                                                                                                                                                                                   
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│   "VariableA": {                                                                                                                                                                                                │
│     "baseTokenOutputAmount": "Variable holding the calculated base token output amount",                                                                                                                        │
│     "fractionalTokenOutputAmount": "Variable holding the calculated fractional token output amount"                                                                                                             │
│   },                                                                                                                                                                                                            │
│   "VariableB": {                                                                                                                                                                                                │
│     "lpTokenAmount": "Variable holding the amount of LP tokens to be removed"                                                                                                                                   │
│   }                                                                                                                                                                                                             │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
[12/08/24 20:05:45] ERROR    tasks: Static analysis failed: Invalid args                                                                                                                               tasks.py:357
                    ERROR    tasks: Current File: /home/owen/Documents/GitHub/GPTScan-Bigger-Model/datasets/code-423n4-Web3Bugs-data/2022-12-caviar-main/src/Pair.sol, current function: removeQuote,  tasks.py:359
                             current vul: price-manipulation                                                                                                                                                       
                    ERROR    tasks: Traceback (most recent call last):                                                                                                                                 tasks.py:361
                               File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/src/tasks.py", line 310, in simple_cli                                                                                       
                                 raise Exception(                                                                                                                                                                  
                             Exception: The description of variable did not pass the validation                                                                                                                    
                                                                                                                                                                                                                   
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "VariableA": {                                                                                                                                                                                              │
│         "lpTokenAmount": "Holds the value of total minted share or amount"                                                                                                                                      │
│     },                                                                                                                                                                                                          │
│     "VariableB": {                                                                                                                                                                                              │
│         "lpToken": "Holds the total supply/liquidity AND is used by the conditional branch to determine the supply/liquidity is 0"                                                                              │
│     },                                                                                                                                                                                                          │
│     "VariableC": {                                                                                                                                                                                              │
│         "minLpTokenAmount": "Holds the value of the deposit/mint/add amount"                                                                                                                                    │
│     }                                                                                                                                                                                                           │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
[12/08/24 20:05:46] ERROR    tasks: Static analysis failed: Invalid args                                                                                                                               tasks.py:258
                    ERROR    tasks: Current File: /home/owen/Documents/GitHub/GPTScan-Bigger-Model/datasets/code-423n4-Web3Bugs-data/2022-12-caviar-main/test/Pair/unit/NftAdd.t.sol, current          tasks.py:260
                             function: testItInitMintsLpTokensToSender, current vul: first-deposit                                                                                                                 
                    ERROR    tasks: Traceback (most recent call last):                                                                                                                                 tasks.py:262
                               File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/src/tasks.py", line 254, in simple_cli                                                                                       
                                 res_1 = static_check.run_static_check(checker, args, function1, falcon_instance,                                                                                                  
                             UnboundLocalError: local variable 'falcon_instance' referenced before assignment                                                                                                      
                                                                                                                                                                                                                   
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "VariableA": {                                                                                                                                                                                              │
│         "minLpTokenAmount": "Holds the value of total minted share or amount"                                                                                                                                   │
│     },                                                                                                                                                                                                          │
│     "VariableB": {                                                                                                                                                                                              │
│         "lpToken": "Holds the total supply/liquidity AND is used by the conditional branch to determine the supply/liquidity is 0"                                                                              │
│     },                                                                                                                                                                                                          │
│     "VariableC": {                                                                                                                                                                                              │
│         "lpTokenAmount": "Holds the value of the deposit/mint/add amount"                                                                                                                                       │
│     }                                                                                                                                                                                                           │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
[12/08/24 20:05:48] ERROR    tasks: Static analysis failed: Invalid args                                                                                                                               tasks.py:258
                    ERROR    tasks: Current File: /home/owen/Documents/GitHub/GPTScan-Bigger-Model/datasets/code-423n4-Web3Bugs-data/2022-12-caviar-main/test/Pair/unit/Add.t.sol, current function:   tasks.py:260
                             testItInitMintsLpTokensToSender, current vul: first-deposit                                                                                                                           
                    ERROR    tasks: Traceback (most recent call last):                                                                                                                                 tasks.py:262
                               File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/src/tasks.py", line 254, in simple_cli                                                                                       
                                 res_1 = static_check.run_static_check(checker, args, function1, falcon_instance,                                                                                                  
                             UnboundLocalError: local variable 'falcon_instance' referenced before assignment                                                                                                      
                                                                                                                                                                                                                   
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│   "VariableA": {                                                                                                                                                                                                │
│     "lpTokenAmount": "Holds the value of total minted share or amount"                                                                                                                                          │
│   },                                                                                                                                                                                                            │
│   "VariableB": {                                                                                                                                                                                                │
│     "lpTokenSupplyBefore": "Holds the total supply/liquidity AND is used by the conditional branch to determine the supply/liquidity is 0"                                                                      │
│   },                                                                                                                                                                                                            │
│   "VariableC": {                                                                                                                                                                                                │
│     "minLpTokenAmount": "Holds the value of the deposit/mint/add amount"                                                                                                                                        │
│   }                                                                                                                                                                                                             │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
[12/08/24 20:05:49] ERROR    tasks: Static analysis failed: Invalid args                                                                                                                               tasks.py:258
                    ERROR    tasks: Current File: /home/owen/Documents/GitHub/GPTScan-Bigger-Model/datasets/code-423n4-Web3Bugs-data/2022-12-caviar-main/test/Pair/unit/Add.t.sol, current function:   tasks.py:260
                             testItMintsLpTokensAfterInit, current vul: first-deposit                                                                                                                              
                    ERROR    tasks: Traceback (most recent call last):                                                                                                                                 tasks.py:262
                               File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/src/tasks.py", line 254, in simple_cli                                                                                       
                                 res_1 = static_check.run_static_check(checker, args, function1, falcon_instance,                                                                                                  
                             UnboundLocalError: local variable 'falcon_instance' referenced before assignment                                                                                                      
                                                                                                                                                                                                                   
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "VariableA": {                                                                                                                                                                                              │
│         "lpTokenAmount": "Holds the value of total minted share or amount"                                                                                                                                      │
│     },                                                                                                                                                                                                          │
│     "VariableB": {                                                                                                                                                                                              │
│         "lpTokenSupplyBefore": "Holds the total supply/liquidity AND is used by the conditional branch to determine the supply/liquidity is 0"                                                                  │
│     },                                                                                                                                                                                                          │
│     "VariableC": {                                                                                                                                                                                              │
│         "baseTokenAmount": "Holds the value of the deposit/mint/add amount"                                                                                                                                     │
│     }                                                                                                                                                                                                           │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
[12/08/24 20:05:50] ERROR    tasks: Static analysis failed: Invalid args                                                                                                                               tasks.py:258
                    ERROR    tasks: Current File: /home/owen/Documents/GitHub/GPTScan-Bigger-Model/datasets/code-423n4-Web3Bugs-data/2022-12-caviar-main/test/Pair/unit/Add.t.sol, current function:   tasks.py:260
                             testItMintsLpTokensAfterInitWithEther, current vul: first-deposit                                                                                                                     
                    ERROR    tasks: Traceback (most recent call last):                                                                                                                                 tasks.py:262
                               File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/src/tasks.py", line 254, in simple_cli                                                                                       
                                 res_1 = static_check.run_static_check(checker, args, function1, falcon_instance,                                                                                                  
                             UnboundLocalError: local variable 'falcon_instance' referenced before assignment                                                                                                      
                                                                                                                                                                                                                   
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "VariableA": {                                                                                                                                                                                              │
│         "baseTokenReserves": "Holds the market reserves/AMM price/exchange rate calculation"                                                                                                                    │
│     },                                                                                                                                                                                                          │
│     "VariableB": {                                                                                                                                                                                              │
│         "price": "Holds the calculated value/price of LP token"                                                                                                                                                 │
│     }                                                                                                                                                                                                           │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
                    ERROR    tasks: Static analysis failed: Invalid args                                                                                                                               tasks.py:258
                    ERROR    tasks: Current File: /home/owen/Documents/GitHub/GPTScan-Bigger-Model/datasets/code-423n4-Web3Bugs-data/2022-12-caviar-main/test/Pair/unit/Price.t.sol, current function: tasks.py:260
                             testItReturnsCorrectPrice, current vul: price-manipulation                                                                                                                            
                    ERROR    tasks: Traceback (most recent call last):                                                                                                                                 tasks.py:262
                               File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/src/tasks.py", line 254, in simple_cli                                                                                       
                                 res_1 = static_check.run_static_check(checker, args, function1, falcon_instance,                                                                                                  
                             UnboundLocalError: local variable 'falcon_instance' referenced before assignment                                                                                                      
                                                                                                                                                                                                                   
╭─────────────────────────────────────────────────────────────────────────────────────────────────── Response ────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {                                                                                                                                                                                                               │
│     "VariableA": {                                                                                                                                                                                              │
│         "outputAmount": "Holds the output amount for the function"                                                                                                                                              │
│     },                                                                                                                                                                                                          │
│     "VariableB": {                                                                                                                                                                                              │
│         "maxInputAmount": "Holds the calculated maximum input amount for LP token"                                                                                                                              │
│     }                                                                                                                                                                                                           │
│ }                                                                                                                                                                                                               │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
[12/08/24 20:05:51] ERROR    tasks: Static analysis failed: Invalid args                                                                                                                               tasks.py:258
                    ERROR    tasks: Current File: /home/owen/Documents/GitHub/GPTScan-Bigger-Model/datasets/code-423n4-Web3Bugs-data/2022-12-caviar-main/test/Pair/integration/BuySell.t.sol, current  tasks.py:260
                             function: testItBuysSellsEqualAmounts, current vul: price-manipulation                                                                                                                
                    ERROR    tasks: Traceback (most recent call last):                                                                                                                                 tasks.py:262
                               File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/src/tasks.py", line 209, in simple_cli                                                                                       
                                 raise Exception(                                                                                                                                                                  
                             Exception: The description of variable did not pass the `validate_description` validation                                                                                             
                                                                                                                                                                                                                   
                      Scan Results                       
┏━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━┓
┃ Type ┃ Description ┃ Affected Files ┃ Analysis Report ┃
┡━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━┩
└──────┴─────────────┴────────────────┴─────────────────┘
                   Summary                   
┏━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━┓
┃ Key                  ┃ Value              ┃
┡━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━┩
│ Files                │ 31                 │
│ Contracts            │ 40                 │
│ Functions            │ 131                │
│ Lines of Code        │ 2745               │
│ Used Time            │ 45.240973711013794 │
│ Estimated Cost (USD) │ 0.045012           │
└──────────────────────┴────────────────────┘
