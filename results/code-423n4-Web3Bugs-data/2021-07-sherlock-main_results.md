

  .oooooo.    ooooooooo.   ooooooooooooo  .oooooo..o                                 
 d8P'  `Y8b   `888   `Y88. 8'   888   `8 d8P'    `Y8                                 
888            888   .d88'      888      Y88bo.       .ooooo.   .oooo.   ooo. .oo.   
888            888ooo88P'       888       `"Y8888o.  d88' `"Y8 `P  )88b  `888P"Y88b  
888     ooooo  888              888           `"Y88b 888        .oP"888   888   888  
`88.    .88'   888              888      oo     .d8P 888   .o8 d8(  888   888   888  
 `Y8bood8P'   o888o            o888o     8""88888P'  `Y8bod8P' `Y888""8o o888o o888o                                                        


                                                                   

[16:32:05] Loaded 10 rules                                                                                                                                                                                                                   tasks.py:119
[12/08/24 16:32:05] INFO     CryticCompile: 'npx hardhat clean' running (wd: /home/owen/Documents/GitHub/GPTScan-Bigger-Model/eval_data/2021-07-sherlock-main)                                                                           subprocess.py:41
                    ERROR    CryticCompile: 'npx' returned non-zero exit code 126                                                                                                                                                        subprocess.py:60
                    ERROR    CryticCompile: sh: 1: hardhat: Permission denied                                                                                                                                                            subprocess.py:68
                    INFO     CryticCompile: 'npx hardhat clean --global' running (wd: /home/owen/Documents/GitHub/GPTScan-Bigger-Model/eval_data/2021-07-sherlock-main)                                                                  subprocess.py:41
                    ERROR    CryticCompile: 'npx' returned non-zero exit code 126                                                                                                                                                        subprocess.py:60
                    ERROR    CryticCompile: sh: 1: hardhat: Permission denied                                                                                                                                                            subprocess.py:68
[12/08/24 16:32:06] INFO     CryticCompile: Problem executing hardhat: sh: 1: hardhat: Permission denied                                                                                                                                   hardhat.py:327
                                                                                                                                                                                                                                                         
                    INFO     CryticCompile: 'npx hardhat compile --force' running (wd: /home/owen/Documents/GitHub/GPTScan-Bigger-Model/eval_data/2021-07-sherlock-main)                                                                 subprocess.py:41
                    ERROR    CryticCompile: 'npx' returned non-zero exit code 126                                                                                                                                                        subprocess.py:60
                    ERROR    CryticCompile: sh: 1: hardhat: Permission denied                                                                                                                                                            subprocess.py:68
[16:32:06] Traceback (most recent call last):                                                                                                                                                                                                tasks.py:126
             File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/.venv/lib/python3.10/site-packages/falcon/falcon.py", line 90, in __init__                                                                                                           
               crytic_compile = CryticCompile(target, **kwargs)                                                                                                                                                                                          
             File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/.venv/lib/python3.10/site-packages/crytic_compile/crytic_compile.py", line 131, in __init__                                                                                          
               self._compile(**kwargs)                                                                                                                                                                                                                   
             File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/.venv/lib/python3.10/site-packages/crytic_compile/crytic_compile.py", line 553, in _compile                                                                                          
               self._platform.compile(self, **kwargs)                                                                                                                                                                                                    
             File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/.venv/lib/python3.10/site-packages/crytic_compile/platform/hardhat.py", line 183, in compile                                                                                         
               hardhat_like_parsing(crytic_compile, self._target, build_directory, hardhat_working_dir)                                                                                                                                                  
             File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/.venv/lib/python3.10/site-packages/crytic_compile/platform/hardhat.py", line 52, in hardhat_like_parsing                                                                             
               raise InvalidCompilation(txt)                                                                                                                                                                                                             
           crytic_compile.platform.exceptions.InvalidCompilation: Compilation failed. Can you run build command?                                                                                                                                         
           /home/owen/Documents/GitHub/GPTScan-Bigger-Model/eval_data/2021-07-sherlock-main/artifacts/build-info is not a directory.                                                                                                                     
                                                                                                                                                                                                                                                         
           During handling of the above exception, another exception occurred:                                                                                                                                                                           
                                                                                                                                                                                                                                                         
           Traceback (most recent call last):                                                                                                                                                                                                            
             File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/src/tasks.py", line 124, in simple_cli                                                                                                                                               
               falcon_instance = compile_project(source_dir)                                                                                                                                                                                             
             File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/src/tasks.py", line 103, in compile_project                                                                                                                                          
               return falcon.Falcon(abs_path)                                                                                                                                                                                                            
             File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/.venv/lib/python3.10/site-packages/falcon/falcon.py", line 94, in __init__                                                                                                           
               raise FalconError(f"Invalid compilation: \n{str(e)}")                                                                                                                                                                                     
           falcon.exceptions.FalconError: Invalid compilation:                                                                                                                                                                                           
           Compilation failed. Can you run build command?                                                                                                                                                                                                
           /home/owen/Documents/GitHub/GPTScan-Bigger-Model/eval_data/2021-07-sherlock-main/artifacts/build-info is not a directory.                                                                                                                     
                                                                                                                                                                                                                                                         
           Compile failed.                                                                                                                                                                                                                   tasks.py:127
           Since the compilation is failed, some static analysis tool may not be enabled, which may cause lower precision and recall.                                                                                                        tasks.py:128
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                                                          │
│ Code:                                                                                                                                                                                                                                                 │
│   function deposit() public override {                                                                                                                                                                                                                │
│     ILendingPool lp = getLp();                                                                                                                                                                                                                        │
│     uint256 amount = want.balanceOf(address(this));                                                                                                                                                                                                   │
│     require(amount > 0, 'ZERO_AMOUNT');                                                                                                                                                                                                               │
│                                                                                                                                                                                                                                                       │
│     lp.deposit(address(want), amount, address(this), 0);                                                                                                                                                                                              │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "No"}                                                                                                                                                                                                                                           │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                                                          │
│ Code:                                                                                                                                                                                                                                                 │
│   function strategyDeposit(uint256 _amount, IERC20 _token) external override {                                                                                                                                                                        │
│     require(_amount > 0, 'AMOUNT');                                                                                                                                                                                                                   │
│     PoolStorage.Base storage ps = baseData();                                                                                                                                                                                                         │
│     _enforceGovPool(ps);                                                                                                                                                                                                                              │
│     _enforceStrategy(ps);                                                                                                                                                                                                                             │
│                                                                                                                                                                                                                                                       │
│     ps.stakeBalance = ps.stakeBalance.sub(_amount);                                                                                                                                                                                                   │
│     _token.safeTransfer(address(ps.strategy), _amount);                                                                                                                                                                                               │
│                                                                                                                                                                                                                                                       │
│     ps.strategy.deposit();                                                                                                                                                                                                                            │
│   }                                                                                                                                                                                                                                                   │
│   function deposit() public override {                                                                                                                                                                                                                │
│     ILendingPool lp = getLp();                                                                                                                                                                                                                        │
│     uint256 amount = want.balanceOf(address(this));                                                                                                                                                                                                   │
│     require(amount > 0, 'ZERO_AMOUNT');                                                                                                                                                                                                               │
│                                                                                                                                                                                                                                                       │
│     lp.deposit(address(want), amount, address(this), 0);                                                                                                                                                                                              │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "No"}                                                                                                                                                                                                                                           │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have inside code statements that update/accrue interest/exchange rate,                                                                                                                                                                     │
│ Code:                                                                                                                                                                                                                                                 │
│   function strategyRemove(IERC20 _token) external override {                                                                                                                                                                                          │
│     PoolStorage.Base storage ps = baseData();                                                                                                                                                                                                         │
│     _enforceGovPool(ps);                                                                                                                                                                                                                              │
│     require(address(ps.strategy) != address(0), 'ZERO');                                                                                                                                                                                              │
│     // NOTE: don't check if the current strategy balance = 0                                                                                                                                                                                          │
│     // In case the strategy is faulty and the balance can never return 0                                                                                                                                                                              │
│     // The strategy can never be removed. So this function should be used with caution.                                                                                                                                                               │
│     delete ps.strategy;                                                                                                                                                                                                                               │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "No"}                                                                                                                                                                                                                                           │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                                                          │
│ have inside code statements that update/accrue interest/exchange rate,                                                                                                                                                                                │
│ Code:                                                                                                                                                                                                                                                 │
│   function strategyUpdate(IStrategy _strategy, IERC20 _token) external override {                                                                                                                                                                     │
│     PoolStorage.Base storage ps = baseData();                                                                                                                                                                                                         │
│     require(_strategy.want() == _token, 'WANT');                                                                                                                                                                                                      │
│     _enforceGovPool(ps);                                                                                                                                                                                                                              │
│     if (address(ps.strategy) != address(0)) {                                                                                                                                                                                                         │
│       require(ps.strategy.balanceOf() == 0, 'NOT_EMPTY');                                                                                                                                                                                             │
│     }                                                                                                                                                                                                                                                 │
│                                                                                                                                                                                                                                                       │
│     ps.strategy = _strategy;                                                                                                                                                                                                                          │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "No", "2": "No"}                                                                                                                                                                                                                                │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have inside code statements that update/accrue interest/exchange rate,                                                                                                                                                                     │
│ Code:                                                                                                                                                                                                                                                 │
│   function strategyDeposit(uint256 _amount, IERC20 _token) external override {                                                                                                                                                                        │
│     require(_amount > 0, 'AMOUNT');                                                                                                                                                                                                                   │
│     PoolStorage.Base storage ps = baseData();                                                                                                                                                                                                         │
│     _enforceGovPool(ps);                                                                                                                                                                                                                              │
│     _enforceStrategy(ps);                                                                                                                                                                                                                             │
│                                                                                                                                                                                                                                                       │
│     ps.stakeBalance = ps.stakeBalance.sub(_amount);                                                                                                                                                                                                   │
│     _token.safeTransfer(address(ps.strategy), _amount);                                                                                                                                                                                               │
│                                                                                                                                                                                                                                                       │
│     ps.strategy.deposit();                                                                                                                                                                                                                            │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "No"}                                                                                                                                                                                                                                           │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have inside code statements that update/accrue interest/exchange rate,                                                                                                                                                                     │
│ Code:                                                                                                                                                                                                                                                 │
│   function strategyWithdraw(uint256 _amount, IERC20 _token) external override {                                                                                                                                                                       │
│     require(_amount > 0, 'AMOUNT');                                                                                                                                                                                                                   │
│     PoolStorage.Base storage ps = baseData();                                                                                                                                                                                                         │
│     _enforceGovPool(ps);                                                                                                                                                                                                                              │
│     _enforceStrategy(ps);                                                                                                                                                                                                                             │
│                                                                                                                                                                                                                                                       │
│     ps.strategy.withdraw(_amount);                                                                                                                                                                                                                    │
│     ps.stakeBalance = ps.stakeBalance.add(_amount);                                                                                                                                                                                                   │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "No"}                                                                                                                                                                                                                                           │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have inside code statements that update/accrue interest/exchange rate,                                                                                                                                                                     │
│ Code:                                                                                                                                                                                                                                                 │
│   function strategyWithdrawAll(IERC20 _token) external override {                                                                                                                                                                                     │
│     PoolStorage.Base storage ps = baseData();                                                                                                                                                                                                         │
│     _enforceGovPool(ps);                                                                                                                                                                                                                              │
│     _enforceStrategy(ps);                                                                                                                                                                                                                             │
│                                                                                                                                                                                                                                                       │
│     uint256 amount = ps.strategy.withdrawAll();                                                                                                                                                                                                       │
│     ps.stakeBalance = ps.stakeBalance.add(amount);                                                                                                                                                                                                    │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "No"}                                                                                                                                                                                                                                           │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: mint or vest or collect token/liquidity/earning and assign them to the address recipient or to variable,                                                                                                                                   │
│ Code:                                                                                                                                                                                                                                                 │
│   function harvestFor(address _user, ILock[] calldata _tokens) external override {                                                                                                                                                                    │
│     for (uint256 i; i < _tokens.length; i++) {                                                                                                                                                                                                        │
│       harvestFor(_user, _tokens);                                                                                                                                                                                                                     │
│     }                                                                                                                                                                                                                                                 │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "No"}                                                                                                                                                                                                                                           │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                                           │
│ Code:                                                                                                                                                                                                                                                 │
│   function redeem(uint256 _amount, address _receiver) external override {                                                                                                                                                                             │
│     require(_amount > 0, 'AMOUNT');                                                                                                                                                                                                                   │
│     require(_receiver != address(0), 'RECEIVER');                                                                                                                                                                                                     │
│                                                                                                                                                                                                                                                       │
│     SherXStorage.Base storage sx = SherXStorage.sx();                                                                                                                                                                                                 │
│     LibSherX.accrueUSDPool();                                                                                                                                                                                                                         │
│                                                                                                                                                                                                                                                       │
│     // Note: LibSherX.accrueSherX() is removed as the calcUnderlying already takes it into consideration (without changing state)                                                                                                                     │
│     // Calculate the current `amounts` of underlying `tokens` for `_amount` of SherX                                                                                                                                                                  │
│     (IERC20[] memory tokens, uint256[] memory amounts) = LibSherX.calcUnderlying(_amount);                                                                                                                                                            │
│     LibSherXERC20.burn(msg.sender, _amount);                                                                                                                                                                                                          │
│                                                                                                                                                                                                                                                       │
│     uint256 subUsdPool = 0;                                                                                                                                                                                                                           │
│     for (uint256 i; i < tokens.length; i++) {                                                                                                                                                                                                         │
│       PoolStorage.Base storage ps = PoolStorage.ps(tokens);                                                                                                                                                                                           │
│                                                                                                                                                                                                                                                       │
│       // Expensive operation, only execute to prevent tx reverts                                                                                                                                                                                      │
│       if (amounts > ps.sherXUnderlying) {                                                                                                                                                                                                             │
│         LibPool.payOffDebtAll(tokens);                                                                                                                                                                                                                │
│       }                                                                                                                                                                                                                                               │
│       // Remove the token as underlying of SherX                                                                                                                                                                                                      │
│       ps.sherXUnderlying = ps.sherXUnderlying.sub(amounts);                                                                                                                                                                                           │
│       // As the tokens are transferred, remove from the current usdPool                                                                                                                                                                               │
│       // By summing the total that needs to be deducted in the `subUsdPool` value                                                                                                                                                                     │
│       subUsdPool = subUsdPool.add(amounts.mul(sx.tokenUSD[tokens]).div(10**18));                                                                                                                                                                      │
│                                                                                                                                                                                                                                                       │
│       tokens.safeTransfer(_receiver, amounts);                                                                                                                                                                                                        │
│     }                                                                                                                                                                                                                                                 │
│     sx.totalUsdPool = sx.totalUsdPool.sub(subUsdPool);                                                                                                                                                                                                │
│     LibSherX.settleInternalSupply(_amount);                                                                                                                                                                                                           │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "No"}                                                                                                                                                                                                                                           │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                                                          │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                                                      │
│ Code:                                                                                                                                                                                                                                                 │
│   function doYield(                                                                                                                                                                                                                                   │
│     ILock token,                                                                                                                                                                                                                                      │
│     address from,                                                                                                                                                                                                                                     │
│     address to,                                                                                                                                                                                                                                       │
│     uint256 amount                                                                                                                                                                                                                                    │
│   ) private {                                                                                                                                                                                                                                         │
│     IERC20 underlying = token.underlying();                                                                                                                                                                                                           │
│     PoolStorage.Base storage ps = PoolStorage.ps(underlying);                                                                                                                                                                                         │
│     require(ps.lockToken == token, 'SENDER');                                                                                                                                                                                                         │
│                                                                                                                                                                                                                                                       │
│     LibSherX.accrueSherX(underlying);                                                                                                                                                                                                                 │
│     uint256 userAmount = ps.lockToken.balanceOf(from);                                                                                                                                                                                                │
│     uint256 totalAmount = ps.lockToken.totalSupply();                                                                                                                                                                                                 │
│                                                                                                                                                                                                                                                       │
│     uint256 ineglible_yield_amount;                                                                                                                                                                                                                   │
│     if (totalAmount > 0) {                                                                                                                                                                                                                            │
│       ineglible_yield_amount = ps.sWeight.mul(amount).div(totalAmount);                                                                                                                                                                               │
│     } else {                                                                                                                                                                                                                                          │
│       ineglible_yield_amount = amount;                                                                                                                                                                                                                │
│     }                                                                                                                                                                                                                                                 │
│                                                                                                                                                                                                                                                       │
│     if (from != address(0)) {                                                                                                                                                                                                                         │
│       uint256 raw_amount = ps.sWeight.mul(userAmount).div(totalAmount);                                                                                                                                                                               │
│       uint256 withdrawable_amount = raw_amount.sub(ps.sWithdrawn);                                                                                                                                                                                    │
│       if (withdrawable_amount > 0) {                                                                                                                                                                                                                  │
│         // store the data in a single calc                                                                                                                                                                                                            │
│         ps.sWithdrawn = raw_amount.sub(ineglible_yield_amount);                                                                                                                                                                                       │
│         // The `withdrawable_amount` is allocated to `from`, subtract from `unallocatedSherX`                                                                                                                                                         │
│         ps.unallocatedSherX = ps.unallocatedSherX.sub(withdrawable_amount);                                                                                                                                                                           │
│         PoolStorage.Base storage psSherX = PoolStorage.ps(IERC20(address(this)));                                                                                                                                                                     │
│         if (from == address(this)) {                                                                                                                                                                                                                  │
│           // add SherX harvested by the pool itself to first money out pool.                                                                                                                                                                          │
│           psSherX.stakeBalance = psSherX.stakeBalance.add(withdrawable_amount);                                                                                                                                                                       │
│           psSherX.firstMoneyOut = psSherX.firstMoneyOut.add(withdrawable_amount);                                                                                                                                                                     │
│         } else {                                                                                                                                                                                                                                      │
│           LibPool.stake(psSherX, withdrawable_amount, from);                                                                                                                                                                                          │
│         }                                                                                                                                                                                                                                             │
│       } else {                                                                                                                                                                                                                                        │
│         ps.sWithdrawn = ps.sWithdrawn.sub(ineglible_yield_amount);                                                                                                                                                                                    │
│       }                                                                                                                                                                                                                                               │
│     } else {                                                                                                                                                                                                                                          │
│       ps.sWeight = ps.sWeight.add(ineglible_yield_amount);                                                                                                                                                                                            │
│     }                                                                                                                                                                                                                                                 │
│                                                                                                                                                                                                                                                       │
│     if (to != address(0)) {                                                                                                                                                                                                                           │
│       ps.sWithdrawn = ps.sWithdrawn.add(ineglible_yield_amount);                                                                                                                                                                                      │
│     } else {                                                                                                                                                                                                                                          │
│       ps.sWeight = ps.sWeight.sub(ineglible_yield_amount);                                                                                                                                                                                            │
│     }                                                                                                                                                                                                                                                 │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "No", "2": "No"}                                                                                                                                                                                                                                │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                                                          │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                                                      │
│ Code:                                                                                                                                                                                                                                                 │
│   function _setData(uint256 usdPerBlock, uint256 usdPool) private {                                                                                                                                                                                   │
│     SherXStorage.Base storage sx = SherXStorage.sx();                                                                                                                                                                                                 │
│     SherXERC20Storage.Base storage sx20 = SherXERC20Storage.sx20();                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                       │
│     LibSherX.accrueSherX();                                                                                                                                                                                                                           │
│                                                                                                                                                                                                                                                       │
│     uint256 _currentTotalSupply = sx20.totalSupply;                                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                       │
│     if (usdPerBlock > 0 && _currentTotalSupply == 0) {                                                                                                                                                                                                │
│       // initial accrue, mint 1 SHERX per block                                                                                                                                                                                                       │
│       sx.sherXPerBlock = 10**18;                                                                                                                                                                                                                      │
│     } else if (usdPool > 0) {                                                                                                                                                                                                                         │
│       // Calculate new sherXPerBlock based on the updated usdPerBlock and usdPool values                                                                                                                                                              │
│       sx.sherXPerBlock = _currentTotalSupply.mul(usdPerBlock).div(usdPool);                                                                                                                                                                           │
│     } else {                                                                                                                                                                                                                                          │
│       sx.sherXPerBlock = 0;                                                                                                                                                                                                                           │
│     }                                                                                                                                                                                                                                                 │
│     sx.internalTotalSupply = _currentTotalSupply;                                                                                                                                                                                                     │
│     sx.internalTotalSupplySettled = block.number;                                                                                                                                                                                                     │
│                                                                                                                                                                                                                                                       │
│     sx.totalUsdPerBlock = usdPerBlock;                                                                                                                                                                                                                │
│     sx.totalUsdPool = usdPool;                                                                                                                                                                                                                        │
│     sx.totalUsdLastSettled = block.number;                                                                                                                                                                                                            │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "Yes", "2": "No"}                                                                                                                                                                                                                               │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price based on the market reserves/AMMprice/exchangeRate OR the custom token balanceOf/totalSupply/amount/liquidity calculation                                                │
│ Code:                                                                                                                                                                                                                                                 │
│   function _setData(uint256 usdPerBlock, uint256 usdPool) private {                                                                                                                                                                                   │
│     SherXStorage.Base storage sx = SherXStorage.sx();                                                                                                                                                                                                 │
│     SherXERC20Storage.Base storage sx20 = SherXERC20Storage.sx20();                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                       │
│     LibSherX.accrueSherX();                                                                                                                                                                                                                           │
│                                                                                                                                                                                                                                                       │
│     uint256 _currentTotalSupply = sx20.totalSupply;                                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                       │
│     if (usdPerBlock > 0 && _currentTotalSupply == 0) {                                                                                                                                                                                                │
│       // initial accrue, mint 1 SHERX per block                                                                                                                                                                                                       │
│       sx.sherXPerBlock = 10**18;                                                                                                                                                                                                                      │
│     } else if (usdPool > 0) {                                                                                                                                                                                                                         │
│       // Calculate new sherXPerBlock based on the updated usdPerBlock and usdPool values                                                                                                                                                              │
│       sx.sherXPerBlock = _currentTotalSupply.mul(usdPerBlock).div(usdPool);                                                                                                                                                                           │
│     } else {                                                                                                                                                                                                                                          │
│       sx.sherXPerBlock = 0;                                                                                                                                                                                                                           │
│     }                                                                                                                                                                                                                                                 │
│     sx.internalTotalSupply = _currentTotalSupply;                                                                                                                                                                                                     │
│     sx.internalTotalSupplySettled = block.number;                                                                                                                                                                                                     │
│                                                                                                                                                                                                                                                       │
│     sx.totalUsdPerBlock = usdPerBlock;                                                                                                                                                                                                                │
│     sx.totalUsdPool = usdPool;                                                                                                                                                                                                                        │
│     sx.totalUsdLastSettled = block.number;                                                                                                                                                                                                            │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Yes                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                                                          │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                                                      │
│ Code:                                                                                                                                                                                                                                                 │
│   function setProtocolPremiumAndTokenPrice(                                                                                                                                                                                                           │
│     bytes32 _protocol,                                                                                                                                                                                                                                │
│     IERC20 _token,                                                                                                                                                                                                                                    │
│     uint256 _premium,                                                                                                                                                                                                                                 │
│     uint256 _newUsd                                                                                                                                                                                                                                   │
│   ) external override onlyGovMain {                                                                                                                                                                                                                   │
│     LibPool.payOffDebtAll(_token);                                                                                                                                                                                                                    │
│     (uint256 usdPerBlock, uint256 usdPool) = _getData();                                                                                                                                                                                              │
│                                                                                                                                                                                                                                                       │
│     (usdPerBlock, usdPool) = _setProtocolPremiumAndTokenPrice(                                                                                                                                                                                        │
│       _protocol,                                                                                                                                                                                                                                      │
│       _token,                                                                                                                                                                                                                                         │
│       _premium,                                                                                                                                                                                                                                       │
│       _newUsd,                                                                                                                                                                                                                                        │
│       usdPerBlock,                                                                                                                                                                                                                                    │
│       usdPool                                                                                                                                                                                                                                         │
│     );                                                                                                                                                                                                                                                │
│     _setData(usdPerBlock, usdPool);                                                                                                                                                                                                                   │
│   }                                                                                                                                                                                                                                                   │
│   function _setData(uint256 usdPerBlock, uint256 usdPool) private {                                                                                                                                                                                   │
│     SherXStorage.Base storage sx = SherXStorage.sx();                                                                                                                                                                                                 │
│     SherXERC20Storage.Base storage sx20 = SherXERC20Storage.sx20();                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                       │
│     LibSherX.accrueSherX();                                                                                                                                                                                                                           │
│                                                                                                                                                                                                                                                       │
│     uint256 _currentTotalSupply = sx20.totalSupply;                                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                       │
│     if (usdPerBlock > 0 && _currentTotalSupply == 0) {                                                                                                                                                                                                │
│       // initial accrue, mint 1 SHERX per block                                                                                                                                                                                                       │
│       sx.sherXPerBlock = 10**18;                                                                                                                                                                                                                      │
│     } else if (usdPool > 0) {                                                                                                                                                                                                                         │
│       // Calculate new sherXPerBlock based on the updated usdPerBlock and usdPool values                                                                                                                                                              │
│       sx.sherXPerBlock = _currentTotalSupply.mul(usdPerBlock).div(usdPool);                                                                                                                                                                           │
│     } else {                                                                                                                                                                                                                                          │
│       sx.sherXPerBlock = 0;                                                                                                                                                                                                                           │
│     }                                                                                                                                                                                                                                                 │
│     sx.internalTotalSupply = _currentTotalSupply;                                                                                                                                                                                                     │
│     sx.internalTotalSupplySettled = block.number;                                                                                                                                                                                                     │
│                                                                                                                                                                                                                                                       │
│     sx.totalUsdPerBlock = usdPerBlock;                                                                                                                                                                                                                │
│     sx.totalUsdPool = usdPool;                                                                                                                                                                                                                        │
│     sx.totalUsdLastSettled = block.number;                                                                                                                                                                                                            │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "Yes", "2": "No"}                                                                                                                                                                                                                               │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price based on the market reserves/AMMprice/exchangeRate OR the custom token balanceOf/totalSupply/amount/liquidity calculation                                                │
│ Code:                                                                                                                                                                                                                                                 │
│   function setProtocolPremiumAndTokenPrice(                                                                                                                                                                                                           │
│     bytes32 _protocol,                                                                                                                                                                                                                                │
│     IERC20 _token,                                                                                                                                                                                                                                    │
│     uint256 _premium,                                                                                                                                                                                                                                 │
│     uint256 _newUsd                                                                                                                                                                                                                                   │
│   ) external override onlyGovMain {                                                                                                                                                                                                                   │
│     LibPool.payOffDebtAll(_token);                                                                                                                                                                                                                    │
│     (uint256 usdPerBlock, uint256 usdPool) = _getData();                                                                                                                                                                                              │
│                                                                                                                                                                                                                                                       │
│     (usdPerBlock, usdPool) = _setProtocolPremiumAndTokenPrice(                                                                                                                                                                                        │
│       _protocol,                                                                                                                                                                                                                                      │
│       _token,                                                                                                                                                                                                                                         │
│       _premium,                                                                                                                                                                                                                                       │
│       _newUsd,                                                                                                                                                                                                                                        │
│       usdPerBlock,                                                                                                                                                                                                                                    │
│       usdPool                                                                                                                                                                                                                                         │
│     );                                                                                                                                                                                                                                                │
│     _setData(usdPerBlock, usdPool);                                                                                                                                                                                                                   │
│   }                                                                                                                                                                                                                                                   │
│   function _setData(uint256 usdPerBlock, uint256 usdPool) private {                                                                                                                                                                                   │
│     SherXStorage.Base storage sx = SherXStorage.sx();                                                                                                                                                                                                 │
│     SherXERC20Storage.Base storage sx20 = SherXERC20Storage.sx20();                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                       │
│     LibSherX.accrueSherX();                                                                                                                                                                                                                           │
│                                                                                                                                                                                                                                                       │
│     uint256 _currentTotalSupply = sx20.totalSupply;                                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                       │
│     if (usdPerBlock > 0 && _currentTotalSupply == 0) {                                                                                                                                                                                                │
│       // initial accrue, mint 1 SHERX per block                                                                                                                                                                                                       │
│       sx.sherXPerBlock = 10**18;                                                                                                                                                                                                                      │
│     } else if (usdPool > 0) {                                                                                                                                                                                                                         │
│       // Calculate new sherXPerBlock based on the updated usdPerBlock and usdPool values                                                                                                                                                              │
│       sx.sherXPerBlock = _currentTotalSupply.mul(usdPerBlock).div(usdPool);                                                                                                                                                                           │
│     } else {                                                                                                                                                                                                                                          │
│       sx.sherXPerBlock = 0;                                                                                                                                                                                                                           │
│     }                                                                                                                                                                                                                                                 │
│     sx.internalTotalSupply = _currentTotalSupply;                                                                                                                                                                                                     │
│     sx.internalTotalSupplySettled = block.number;                                                                                                                                                                                                     │
│                                                                                                                                                                                                                                                       │
│     sx.totalUsdPerBlock = usdPerBlock;                                                                                                                                                                                                                │
│     sx.totalUsdPool = usdPool;                                                                                                                                                                                                                        │
│     sx.totalUsdLastSettled = block.number;                                                                                                                                                                                                            │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Yes                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                                                          │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                                                      │
│ Code:                                                                                                                                                                                                                                                 │
│   function setProtocolPremium(                                                                                                                                                                                                                        │
│     bytes32 _protocol,                                                                                                                                                                                                                                │
│     IERC20 _token,                                                                                                                                                                                                                                    │
│     uint256 _premium                                                                                                                                                                                                                                  │
│   ) external override onlyGovMain {                                                                                                                                                                                                                   │
│     LibPool.payOffDebtAll(_token);                                                                                                                                                                                                                    │
│     (uint256 usdPerBlock, uint256 usdPool) = _getData();                                                                                                                                                                                              │
│     (usdPerBlock, usdPool) = _setProtocolPremium(_protocol, _token, _premium, usdPerBlock, usdPool);                                                                                                                                                  │
│     _setData(usdPerBlock, usdPool);                                                                                                                                                                                                                   │
│   }                                                                                                                                                                                                                                                   │
│   function _setData(uint256 usdPerBlock, uint256 usdPool) private {                                                                                                                                                                                   │
│     SherXStorage.Base storage sx = SherXStorage.sx();                                                                                                                                                                                                 │
│     SherXERC20Storage.Base storage sx20 = SherXERC20Storage.sx20();                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                       │
│     LibSherX.accrueSherX();                                                                                                                                                                                                                           │
│                                                                                                                                                                                                                                                       │
│     uint256 _currentTotalSupply = sx20.totalSupply;                                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                       │
│     if (usdPerBlock > 0 && _currentTotalSupply == 0) {                                                                                                                                                                                                │
│       // initial accrue, mint 1 SHERX per block                                                                                                                                                                                                       │
│       sx.sherXPerBlock = 10**18;                                                                                                                                                                                                                      │
│     } else if (usdPool > 0) {                                                                                                                                                                                                                         │
│       // Calculate new sherXPerBlock based on the updated usdPerBlock and usdPool values                                                                                                                                                              │
│       sx.sherXPerBlock = _currentTotalSupply.mul(usdPerBlock).div(usdPool);                                                                                                                                                                           │
│     } else {                                                                                                                                                                                                                                          │
│       sx.sherXPerBlock = 0;                                                                                                                                                                                                                           │
│     }                                                                                                                                                                                                                                                 │
│     sx.internalTotalSupply = _currentTotalSupply;                                                                                                                                                                                                     │
│     sx.internalTotalSupplySettled = block.number;                                                                                                                                                                                                     │
│                                                                                                                                                                                                                                                       │
│     sx.totalUsdPerBlock = usdPerBlock;                                                                                                                                                                                                                │
│     sx.totalUsdPool = usdPool;                                                                                                                                                                                                                        │
│     sx.totalUsdLastSettled = block.number;                                                                                                                                                                                                            │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "No", "2": "No"}                                                                                                                                                                                                                                │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                                                          │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                                                      │
│ Code:                                                                                                                                                                                                                                                 │
│   function setTokenPrice(IERC20 _token, uint256 _newUsd) external override onlyGovMain {                                                                                                                                                              │
│     LibPool.payOffDebtAll(_token);                                                                                                                                                                                                                    │
│     (uint256 usdPerBlock, uint256 usdPool) = _getData();                                                                                                                                                                                              │
│     (usdPerBlock, usdPool) = _setTokenPrice(_token, _newUsd, usdPerBlock, usdPool);                                                                                                                                                                   │
│     _setData(usdPerBlock, usdPool);                                                                                                                                                                                                                   │
│   }                                                                                                                                                                                                                                                   │
│   function _setData(uint256 usdPerBlock, uint256 usdPool) private {                                                                                                                                                                                   │
│     SherXStorage.Base storage sx = SherXStorage.sx();                                                                                                                                                                                                 │
│     SherXERC20Storage.Base storage sx20 = SherXERC20Storage.sx20();                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                       │
│     LibSherX.accrueSherX();                                                                                                                                                                                                                           │
│                                                                                                                                                                                                                                                       │
│     uint256 _currentTotalSupply = sx20.totalSupply;                                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                       │
│     if (usdPerBlock > 0 && _currentTotalSupply == 0) {                                                                                                                                                                                                │
│       // initial accrue, mint 1 SHERX per block                                                                                                                                                                                                       │
│       sx.sherXPerBlock = 10**18;                                                                                                                                                                                                                      │
│     } else if (usdPool > 0) {                                                                                                                                                                                                                         │
│       // Calculate new sherXPerBlock based on the updated usdPerBlock and usdPool values                                                                                                                                                              │
│       sx.sherXPerBlock = _currentTotalSupply.mul(usdPerBlock).div(usdPool);                                                                                                                                                                           │
│     } else {                                                                                                                                                                                                                                          │
│       sx.sherXPerBlock = 0;                                                                                                                                                                                                                           │
│     }                                                                                                                                                                                                                                                 │
│     sx.internalTotalSupply = _currentTotalSupply;                                                                                                                                                                                                     │
│     sx.internalTotalSupplySettled = block.number;                                                                                                                                                                                                     │
│                                                                                                                                                                                                                                                       │
│     sx.totalUsdPerBlock = usdPerBlock;                                                                                                                                                                                                                │
│     sx.totalUsdPool = usdPool;                                                                                                                                                                                                                        │
│     sx.totalUsdLastSettled = block.number;                                                                                                                                                                                                            │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "Yes", "2": "No"}                                                                                                                                                                                                                               │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price based on the market reserves/AMMprice/exchangeRate OR the custom token balanceOf/totalSupply/amount/liquidity calculation                                                │
│ Code:                                                                                                                                                                                                                                                 │
│   function setTokenPrice(IERC20 _token, uint256 _newUsd) external override onlyGovMain {                                                                                                                                                              │
│     LibPool.payOffDebtAll(_token);                                                                                                                                                                                                                    │
│     (uint256 usdPerBlock, uint256 usdPool) = _getData();                                                                                                                                                                                              │
│     (usdPerBlock, usdPool) = _setTokenPrice(_token, _newUsd, usdPerBlock, usdPool);                                                                                                                                                                   │
│     _setData(usdPerBlock, usdPool);                                                                                                                                                                                                                   │
│   }                                                                                                                                                                                                                                                   │
│   function _setData(uint256 usdPerBlock, uint256 usdPool) private {                                                                                                                                                                                   │
│     SherXStorage.Base storage sx = SherXStorage.sx();                                                                                                                                                                                                 │
│     SherXERC20Storage.Base storage sx20 = SherXERC20Storage.sx20();                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                       │
│     LibSherX.accrueSherX();                                                                                                                                                                                                                           │
│                                                                                                                                                                                                                                                       │
│     uint256 _currentTotalSupply = sx20.totalSupply;                                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                       │
│     if (usdPerBlock > 0 && _currentTotalSupply == 0) {                                                                                                                                                                                                │
│       // initial accrue, mint 1 SHERX per block                                                                                                                                                                                                       │
│       sx.sherXPerBlock = 10**18;                                                                                                                                                                                                                      │
│     } else if (usdPool > 0) {                                                                                                                                                                                                                         │
│       // Calculate new sherXPerBlock based on the updated usdPerBlock and usdPool values                                                                                                                                                              │
│       sx.sherXPerBlock = _currentTotalSupply.mul(usdPerBlock).div(usdPool);                                                                                                                                                                           │
│     } else {                                                                                                                                                                                                                                          │
│       sx.sherXPerBlock = 0;                                                                                                                                                                                                                           │
│     }                                                                                                                                                                                                                                                 │
│     sx.internalTotalSupply = _currentTotalSupply;                                                                                                                                                                                                     │
│     sx.internalTotalSupplySettled = block.number;                                                                                                                                                                                                     │
│                                                                                                                                                                                                                                                       │
│     sx.totalUsdPerBlock = usdPerBlock;                                                                                                                                                                                                                │
│     sx.totalUsdPool = usdPool;                                                                                                                                                                                                                        │
│     sx.totalUsdLastSettled = block.number;                                                                                                                                                                                                            │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Yes                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                                                          │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                                                      │
│ Code:                                                                                                                                                                                                                                                 │
│   function tokenInit(                                                                                                                                                                                                                                 │
│     IERC20 _token,                                                                                                                                                                                                                                    │
│     address _govPool,                                                                                                                                                                                                                                 │
│     ILock _lock,                                                                                                                                                                                                                                      │
│     bool _protocolPremium                                                                                                                                                                                                                             │
│   ) external override onlyGovMain {                                                                                                                                                                                                                   │
│     GovStorage.Base storage gs = GovStorage.gs();                                                                                                                                                                                                     │
│     PoolStorage.Base storage ps = PoolStorage.ps(_token);                                                                                                                                                                                             │
│     require(address(_token) != address(0), 'ZERO_TOKEN');                                                                                                                                                                                             │
│                                                                                                                                                                                                                                                       │
│     if (_govPool != address(0)) {                                                                                                                                                                                                                     │
│       ps.govPool = _govPool;                                                                                                                                                                                                                          │
│     }                                                                                                                                                                                                                                                 │
│     require(ps.govPool != address(0), 'ZERO_GOV');                                                                                                                                                                                                    │
│                                                                                                                                                                                                                                                       │
│     if (address(_lock) != address(0)) {                                                                                                                                                                                                               │
│       if (address(ps.lockToken) == address(0)) {                                                                                                                                                                                                      │
│         require(_lock.getOwner() == address(this), 'OWNER');                                                                                                                                                                                          │
│         require(_lock.totalSupply() == 0, 'SUPPLY');                                                                                                                                                                                                  │
│         // If not native (e.g. NOT SherX), verify underlying mapping                                                                                                                                                                                  │
│         if (address(_token) != address(this)) {                                                                                                                                                                                                       │
│           require(_lock.underlying() == _token, 'UNDERLYING');                                                                                                                                                                                        │
│         }                                                                                                                                                                                                                                             │
│         ps.lockToken = _lock;                                                                                                                                                                                                                         │
│       }                                                                                                                                                                                                                                               │
│       if (address(ps.lockToken) == address(_lock)) {                                                                                                                                                                                                  │
│         require(!ps.stakes, 'STAKES_SET');                                                                                                                                                                                                            │
│         ps.stakes = true;                                                                                                                                                                                                                             │
│         gs.tokensStaker.push(_token);                                                                                                                                                                                                                 │
│       } else {                                                                                                                                                                                                                                        │
│         revert('WRONG_LOCK');                                                                                                                                                                                                                         │
│       }                                                                                                                                                                                                                                               │
│     }                                                                                                                                                                                                                                                 │
│                                                                                                                                                                                                                                                       │
│     if (_protocolPremium) {                                                                                                                                                                                                                           │
│       require(!ps.premiums, 'PREMIUMS_SET');                                                                                                                                                                                                          │
│       ps.premiums = true;                                                                                                                                                                                                                             │
│       gs.tokensSherX.push(_token);                                                                                                                                                                                                                    │
│     }                                                                                                                                                                                                                                                 │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "No", "2": "No"}                                                                                                                                                                                                                                │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have inside code statements that update/accrue interest/exchange rate,                                                                                                                                                                     │
│ Code:                                                                                                                                                                                                                                                 │
│   function tokenUnload(                                                                                                                                                                                                                               │
│     IERC20 _token,                                                                                                                                                                                                                                    │
│     IRemove _native,                                                                                                                                                                                                                                  │
│     address _remaining                                                                                                                                                                                                                                │
│   ) external override onlyGovMain {                                                                                                                                                                                                                   │
│     require(address(_native) != address(0), 'ZERO_NATIVE');                                                                                                                                                                                           │
│     require(_remaining != address(0), 'ZERO_REMAIN');                                                                                                                                                                                                 │
│     PoolStorage.Base storage ps = PoolStorage.ps(_token);                                                                                                                                                                                             │
│     require(ps.govPool != address(0), 'EMPTY');                                                                                                                                                                                                       │
│                                                                                                                                                                                                                                                       │
│     // Protocol are technically still able to deposit, ps.premiums is still true                                                                                                                                                                      │
│     // This makes sure the sherx underlying doesn't grow anymore                                                                                                                                                                                      │
│     // this function is called before the disable protocol                                                                                                                                                                                            │
│     // disable stakes --> unload tokens --> disable protocol (sherx) --> remove                                                                                                                                                                       │
│                                                                                                                                                                                                                                                       │
│     require(!ps.stakes, 'STAKES_SET');                                                                                                                                                                                                                │
│     require(ps.totalPremiumPerBlock == 0, 'ACTIVE_PREMIUM');                                                                                                                                                                                          │
│     require(address(ps.strategy) == address(0), 'ACTIVE_STRATEGY');                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                       │
│     uint256 totalToken = ps.firstMoneyOut.add(ps.sherXUnderlying);                                                                                                                                                                                    │
│                                                                                                                                                                                                                                                       │
│     // `firstMoneyOut` and `sherXUnderlying` are two 'pools' that needs to be swapped                                                                                                                                                                 │
│     // in a single transaction.                                                                                                                                                                                                                       │
│     // If `sherXUnderlying` is not swapped in a single tx, the price of SherX (underlying value)                                                                                                                                                      │
│     // will drop                                                                                                                                                                                                                                      │
│     // If `firstMoneyOut` is not swapped in a single tx, the buffer will be reduced in $ value                                                                                                                                                        │
│     // This code piece swaps these tokens for other tokens in the solution                                                                                                                                                                            │
│     // The goal is to keep the current $ value of these two 'pools' somewhat equal before/after swap                                                                                                                                                  │
│     if (totalToken > 0) {                                                                                                                                                                                                                             │
│       _token.approve(address(_native), totalToken);                                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                       │
│       (IERC20 newToken, uint256 newFmo, uint256 newSherxUnderlying) =                                                                                                                                                                                 │
│         _native.swap(_token, ps.firstMoneyOut, ps.sherXUnderlying);                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                       │
│       PoolStorage.Base storage ps2 = PoolStorage.ps(newToken);                                                                                                                                                                                        │
│       require(ps2.govPool != address(0), 'EMPTY_SWAP');                                                                                                                                                                                               │
│                                                                                                                                                                                                                                                       │
│       ps2.stakeBalance = ps2.stakeBalance.add(newFmo);                                                                                                                                                                                                │
│       ps2.firstMoneyOut = ps2.firstMoneyOut.add(newFmo);                                                                                                                                                                                              │
│       ps2.sherXUnderlying = ps2.sherXUnderlying.add(newSherxUnderlying);                                                                                                                                                                              │
│     }                                                                                                                                                                                                                                                 │
│                                                                                                                                                                                                                                                       │
│     uint256 totalFee = ps.unallocatedSherX;                                                                                                                                                                                                           │
│     if (totalFee > 0) {                                                                                                                                                                                                                               │
│       IERC20(address(this)).safeTransfer(_remaining, totalFee);                                                                                                                                                                                       │
│       delete ps.unallocatedSherX;                                                                                                                                                                                                                     │
│     }                                                                                                                                                                                                                                                 │
│                                                                                                                                                                                                                                                       │
│     uint256 balance = ps.stakeBalance.sub(ps.firstMoneyOut);                                                                                                                                                                                          │
│     if (balance > 0) {                                                                                                                                                                                                                                │
│       _token.safeTransfer(_remaining, balance);                                                                                                                                                                                                       │
│       delete ps.stakeBalance;                                                                                                                                                                                                                         │
│     }                                                                                                                                                                                                                                                 │
│                                                                                                                                                                                                                                                       │
│     delete ps.sherXUnderlying;                                                                                                                                                                                                                        │
│     delete ps.firstMoneyOut;                                                                                                                                                                                                                          │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "No"}                                                                                                                                                                                                                                           │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                                                          │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                                                      │
│ Code:                                                                                                                                                                                                                                                 │
│   function payout(                                                                                                                                                                                                                                    │
│     address _payout,                                                                                                                                                                                                                                  │
│     IERC20[] memory _tokens,                                                                                                                                                                                                                          │
│     uint256[] memory _firstMoneyOut,                                                                                                                                                                                                                  │
│     uint256[] memory _amounts,                                                                                                                                                                                                                        │
│     uint256[] memory _unallocatedSherX,                                                                                                                                                                                                               │
│     address _exclude                                                                                                                                                                                                                                  │
│   ) external override onlyGovPayout {                                                                                                                                                                                                                 │
│     // all pools (including SherX pool) can be deducted fmo and balance                                                                                                                                                                               │
│     // deducting balance will reduce the users underlying value of stake token                                                                                                                                                                        │
│     // for every pool, _unallocatedSherX can be deducted, this will decrease outstanding SherX rewards                                                                                                                                                │
│     // for users that did not claim them (e.g materialized them and included in SherX pool)                                                                                                                                                           │
│                                                                                                                                                                                                                                                       │
│     require(address(_payout) != address(0), 'ZERO_PAY');                                                                                                                                                                                              │
│     require(address(_payout) != address(this), 'THIS_PAY');                                                                                                                                                                                           │
│     require(_tokens.length == _firstMoneyOut.length, 'LENGTH_1');                                                                                                                                                                                     │
│     require(_tokens.length == _amounts.length, 'LENGTH_2');                                                                                                                                                                                           │
│     require(_tokens.length == _unallocatedSherX.length, 'LENGTH_3');                                                                                                                                                                                  │
│                                                                                                                                                                                                                                                       │
│     LibSherX.accrueSherX();                                                                                                                                                                                                                           │
│                                                                                                                                                                                                                                                       │
│     uint256 totalUnallocatedSherX;                                                                                                                                                                                                                    │
│     uint256 totalSherX;                                                                                                                                                                                                                               │
│                                                                                                                                                                                                                                                       │
│     for (uint256 i; i < _tokens.length; i++) {                                                                                                                                                                                                        │
│       IERC20 token = _tokens;                                                                                                                                                                                                                         │
│       uint256 firstMoneyOut = _firstMoneyOut;                                                                                                                                                                                                         │
│       uint256 amounts = _amounts;                                                                                                                                                                                                                     │
│       uint256 unallocatedSherX = _unallocatedSherX;                                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                       │
│       PoolStorage.Base storage ps = PoolStorage.ps(token);                                                                                                                                                                                            │
│       require(ps.govPool != address(0), 'INIT');                                                                                                                                                                                                      │
│       require(ps.unallocatedSherX >= unallocatedSherX, 'ERR_UNALLOC_FEE');                                                                                                                                                                            │
│                                                                                                                                                                                                                                                       │
│       if (unallocatedSherX > 0) {                                                                                                                                                                                                                     │
│         // Subtract from `sWeight` as the tokens are not claimable anymore                                                                                                                                                                            │
│         ps.sWeight = ps.sWeight.sub(unallocatedSherX);                                                                                                                                                                                                │
│         // Subtract from unallocated, as the tokens are now allocated to this payout call                                                                                                                                                             │
│         ps.unallocatedSherX = ps.unallocatedSherX.sub(unallocatedSherX);                                                                                                                                                                              │
│         // Update the memory variable `totalUnallocatedSherX` to execute on `_doSherX` later                                                                                                                                                          │
│         totalUnallocatedSherX = totalUnallocatedSherX.add(unallocatedSherX);                                                                                                                                                                          │
│       }                                                                                                                                                                                                                                               │
│                                                                                                                                                                                                                                                       │
│       uint256 total = firstMoneyOut.add(amounts);                                                                                                                                                                                                     │
│       if (total == 0) {                                                                                                                                                                                                                               │
│         continue;                                                                                                                                                                                                                                     │
│       }                                                                                                                                                                                                                                               │
│       if (firstMoneyOut > 0) {                                                                                                                                                                                                                        │
│         ps.firstMoneyOut = ps.firstMoneyOut.sub(firstMoneyOut);                                                                                                                                                                                       │
│       }                                                                                                                                                                                                                                               │
│       ps.stakeBalance = ps.stakeBalance.sub(total);                                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                       │
│       if (address(token) == address(this)) {                                                                                                                                                                                                          │
│         // If the token address == address(this), it's SherX                                                                                                                                                                                          │
│         totalSherX = total;                                                                                                                                                                                                                           │
│       } else {                                                                                                                                                                                                                                        │
│         // NOTE: Inside the _doSherX() call tokens are also transferred, potential gas optimalisation if tokens                                                                                                                                       │
│         // are transferred at once                                                                                                                                                                                                                    │
│         token.safeTransfer(_payout, total);                                                                                                                                                                                                           │
│       }                                                                                                                                                                                                                                               │
│     }                                                                                                                                                                                                                                                 │
│                                                                                                                                                                                                                                                       │
│     if (totalUnallocatedSherX > 0) {                                                                                                                                                                                                                  │
│       // Sum the SherX that is used from the pool + the SherX unallocated as rewards                                                                                                                                                                  │
│       totalSherX = totalSherX.add(totalUnallocatedSherX);                                                                                                                                                                                             │
│     }                                                                                                                                                                                                                                                 │
│     if (totalSherX == 0) {                                                                                                                                                                                                                            │
│       return;                                                                                                                                                                                                                                         │
│     }                                                                                                                                                                                                                                                 │
│                                                                                                                                                                                                                                                       │
│     // NOTE: sx20().totalSupply is always > 0 when this codes hit.                                                                                                                                                                                    │
│                                                                                                                                                                                                                                                       │
│     uint256 curTotalUsdPool = LibSherX.viewAccrueUSDPool();                                                                                                                                                                                           │
│     uint256 excludeUsd = _doSherX(_payout, _exclude, curTotalUsdPool, totalSherX);                                                                                                                                                                    │
│                                                                                                                                                                                                                                                       │
│     // usd excluded, divided by the price per SherX token = amount of sherx to not burn.                                                                                                                                                              │
│     uint256 deduction =                                                                                                                                                                                                                               │
│       excludeUsd.div(curTotalUsdPool.div(SherXERC20Storage.sx20().totalSupply)).div(10e17);                                                                                                                                                           │
│     // deduct that amount from the tokens being burned, to keep the same USD value                                                                                                                                                                    │
│     uint256 burnAmount = totalSherX.sub(deduction);                                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                       │
│     LibSherXERC20.burn(address(this), burnAmount);                                                                                                                                                                                                    │
│     LibSherX.settleInternalSupply(burnAmount);                                                                                                                                                                                                        │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "No", "2": "No"}                                                                                                                                                                                                                                │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                                                          │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                                                      │
│ Code:                                                                                                                                                                                                                                                 │
│   function getStakerPoolBalance(address _staker, IERC20 _token)                                                                                                                                                                                       │
│     external                                                                                                                                                                                                                                          │
│     view                                                                                                                                                                                                                                              │
│     override                                                                                                                                                                                                                                          │
│     returns (uint256)                                                                                                                                                                                                                                 │
│   {                                                                                                                                                                                                                                                   │
│     PoolStorage.Base storage ps = baseData();                                                                                                                                                                                                         │
│     if (ps.lockToken.totalSupply() == 0) {                                                                                                                                                                                                            │
│       return 0;                                                                                                                                                                                                                                       │
│     }                                                                                                                                                                                                                                                 │
│     return                                                                                                                                                                                                                                            │
│       ps.lockToken.balanceOf(_staker).mul(getStakersPoolBalance(_token)).div(                                                                                                                                                                         │
│         ps.lockToken.totalSupply()                                                                                                                                                                                                                    │
│       );                                                                                                                                                                                                                                              │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "Yes", "2": "No"}                                                                                                                                                                                                                               │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price based on the market reserves/AMMprice/exchangeRate OR the custom token balanceOf/totalSupply/amount/liquidity calculation                                                │
│ Code:                                                                                                                                                                                                                                                 │
│   function getStakerPoolBalance(address _staker, IERC20 _token)                                                                                                                                                                                       │
│     external                                                                                                                                                                                                                                          │
│     view                                                                                                                                                                                                                                              │
│     override                                                                                                                                                                                                                                          │
│     returns (uint256)                                                                                                                                                                                                                                 │
│   {                                                                                                                                                                                                                                                   │
│     PoolStorage.Base storage ps = baseData();                                                                                                                                                                                                         │
│     if (ps.lockToken.totalSupply() == 0) {                                                                                                                                                                                                            │
│       return 0;                                                                                                                                                                                                                                       │
│     }                                                                                                                                                                                                                                                 │
│     return                                                                                                                                                                                                                                            │
│       ps.lockToken.balanceOf(_staker).mul(getStakersPoolBalance(_token)).div(                                                                                                                                                                         │
│         ps.lockToken.totalSupply()                                                                                                                                                                                                                    │
│       );                                                                                                                                                                                                                                              │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Yes                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                                                          │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                                                      │
│ Code:                                                                                                                                                                                                                                                 │
│   function getSherXPerBlock(address _user, IERC20 _token) public view override returns (uint256) {                                                                                                                                                    │
│     PoolStorage.Base storage ps = baseData();                                                                                                                                                                                                         │
│     if (ps.lockToken.totalSupply() == 0) {                                                                                                                                                                                                            │
│       return 0;                                                                                                                                                                                                                                       │
│     }                                                                                                                                                                                                                                                 │
│     return                                                                                                                                                                                                                                            │
│       getTotalSherXPerBlock(_token).mul(ps.lockToken.balanceOf(_user)).div(                                                                                                                                                                           │
│         ps.lockToken.totalSupply()                                                                                                                                                                                                                    │
│       );                                                                                                                                                                                                                                              │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "Yes", "2": "No"}                                                                                                                                                                                                                               │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price based on the market reserves/AMMprice/exchangeRate OR the custom token balanceOf/totalSupply/amount/liquidity calculation                                                │
│ Code:                                                                                                                                                                                                                                                 │
│   function getSherXPerBlock(address _user, IERC20 _token) public view override returns (uint256) {                                                                                                                                                    │
│     PoolStorage.Base storage ps = baseData();                                                                                                                                                                                                         │
│     if (ps.lockToken.totalSupply() == 0) {                                                                                                                                                                                                            │
│       return 0;                                                                                                                                                                                                                                       │
│     }                                                                                                                                                                                                                                                 │
│     return                                                                                                                                                                                                                                            │
│       getTotalSherXPerBlock(_token).mul(ps.lockToken.balanceOf(_user)).div(                                                                                                                                                                           │
│         ps.lockToken.totalSupply()                                                                                                                                                                                                                    │
│       );                                                                                                                                                                                                                                              │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Yes                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                                                          │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                                                      │
│ Code:                                                                                                                                                                                                                                                 │
│   function LockToToken(uint256 _amount, IERC20 _token) public view override returns (uint256) {                                                                                                                                                       │
│     PoolStorage.Base storage ps = baseData();                                                                                                                                                                                                         │
│     uint256 balance = LibPool.stakeBalance(ps);                                                                                                                                                                                                       │
│     uint256 totalLock = ps.lockToken.totalSupply();                                                                                                                                                                                                   │
│     if (totalLock == 0 || balance == 0) {                                                                                                                                                                                                             │
│       revert('NO_DATA');                                                                                                                                                                                                                              │
│     }                                                                                                                                                                                                                                                 │
│     return balance.mul(_amount).div(totalLock);                                                                                                                                                                                                       │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "Yes", "2": "No"}                                                                                                                                                                                                                               │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price based on the market reserves/AMMprice/exchangeRate OR the custom token balanceOf/totalSupply/amount/liquidity calculation                                                │
│ Code:                                                                                                                                                                                                                                                 │
│   function LockToToken(uint256 _amount, IERC20 _token) public view override returns (uint256) {                                                                                                                                                       │
│     PoolStorage.Base storage ps = baseData();                                                                                                                                                                                                         │
│     uint256 balance = LibPool.stakeBalance(ps);                                                                                                                                                                                                       │
│     uint256 totalLock = ps.lockToken.totalSupply();                                                                                                                                                                                                   │
│     if (totalLock == 0 || balance == 0) {                                                                                                                                                                                                             │
│       revert('NO_DATA');                                                                                                                                                                                                                              │
│     }                                                                                                                                                                                                                                                 │
│     return balance.mul(_amount).div(totalLock);                                                                                                                                                                                                       │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Yes                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                                                          │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                                                      │
│ Code:                                                                                                                                                                                                                                                 │
│   function TokenToLock(uint256 _amount, IERC20 _token) public view override returns (uint256) {                                                                                                                                                       │
│     PoolStorage.Base storage ps = baseData();                                                                                                                                                                                                         │
│     uint256 balance = LibPool.stakeBalance(ps);                                                                                                                                                                                                       │
│     uint256 totalLock = ps.lockToken.totalSupply();                                                                                                                                                                                                   │
│     if (totalLock == 0 || balance == 0) {                                                                                                                                                                                                             │
│       return 10**18;                                                                                                                                                                                                                                  │
│     }                                                                                                                                                                                                                                                 │
│     return totalLock.mul(_amount).div(balance);                                                                                                                                                                                                       │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "Yes", "2": "No"}                                                                                                                                                                                                                               │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price based on the market reserves/AMMprice/exchangeRate OR the custom token balanceOf/totalSupply/amount/liquidity calculation                                                │
│ Code:                                                                                                                                                                                                                                                 │
│   function TokenToLock(uint256 _amount, IERC20 _token) public view override returns (uint256) {                                                                                                                                                       │
│     PoolStorage.Base storage ps = baseData();                                                                                                                                                                                                         │
│     uint256 balance = LibPool.stakeBalance(ps);                                                                                                                                                                                                       │
│     uint256 totalLock = ps.lockToken.totalSupply();                                                                                                                                                                                                   │
│     if (totalLock == 0 || balance == 0) {                                                                                                                                                                                                             │
│       return 10**18;                                                                                                                                                                                                                                  │
│     }                                                                                                                                                                                                                                                 │
│     return totalLock.mul(_amount).div(balance);                                                                                                                                                                                                       │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Yes                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                                                          │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                                                      │
│ Code:                                                                                                                                                                                                                                                 │
│   function activateCooldown(uint256 _amount, IERC20 _token) external override returns (uint256) {                                                                                                                                                     │
│     require(_amount > 0, 'AMOUNT');                                                                                                                                                                                                                   │
│     PoolStorage.Base storage ps = baseData();                                                                                                                                                                                                         │
│                                                                                                                                                                                                                                                       │
│     ps.lockToken.safeTransferFrom(msg.sender, address(this), _amount);                                                                                                                                                                                │
│     uint256 fee = _amount.mul(ps.activateCooldownFee).div(uint32(-1));                                                                                                                                                                                │
│     if (fee > 0) {                                                                                                                                                                                                                                    │
│       // stake of user gets burned                                                                                                                                                                                                                    │
│       // representative amount token get added to first money out pool                                                                                                                                                                                │
│       uint256 tokenAmount = fee.mul(LibPool.stakeBalance(ps)).div(ps.lockToken.totalSupply());                                                                                                                                                        │
│       ps.firstMoneyOut = ps.firstMoneyOut.add(tokenAmount);                                                                                                                                                                                           │
│                                                                                                                                                                                                                                                       │
│       ps.lockToken.burn(address(this), fee);                                                                                                                                                                                                          │
│     }                                                                                                                                                                                                                                                 │
│                                                                                                                                                                                                                                                       │
│     ps.unstakeEntries.push(                                                                                                                                                                                                                           │
│       PoolStorage.UnstakeEntry(uint40(block.number), _amount.sub(fee))                                                                                                                                                                                │
│     );                                                                                                                                                                                                                                                │
│                                                                                                                                                                                                                                                       │
│     return ps.unstakeEntries.length - 1;                                                                                                                                                                                                              │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "No", "2": "Yes"}                                                                                                                                                                                                                               │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: deposit/mint/add the liquidity pool/amount/share and set the total share to the number of first deposit when the supply/liquidity is 0                                                                                                     │
│ Code:                                                                                                                                                                                                                                                 │
│   function activateCooldown(uint256 _amount, IERC20 _token) external override returns (uint256) {                                                                                                                                                     │
│     require(_amount > 0, 'AMOUNT');                                                                                                                                                                                                                   │
│     PoolStorage.Base storage ps = baseData();                                                                                                                                                                                                         │
│                                                                                                                                                                                                                                                       │
│     ps.lockToken.safeTransferFrom(msg.sender, address(this), _amount);                                                                                                                                                                                │
│     uint256 fee = _amount.mul(ps.activateCooldownFee).div(uint32(-1));                                                                                                                                                                                │
│     if (fee > 0) {                                                                                                                                                                                                                                    │
│       // stake of user gets burned                                                                                                                                                                                                                    │
│       // representative amount token get added to first money out pool                                                                                                                                                                                │
│       uint256 tokenAmount = fee.mul(LibPool.stakeBalance(ps)).div(ps.lockToken.totalSupply());                                                                                                                                                        │
│       ps.firstMoneyOut = ps.firstMoneyOut.add(tokenAmount);                                                                                                                                                                                           │
│                                                                                                                                                                                                                                                       │
│       ps.lockToken.burn(address(this), fee);                                                                                                                                                                                                          │
│     }                                                                                                                                                                                                                                                 │
│                                                                                                                                                                                                                                                       │
│     ps.unstakeEntries.push(                                                                                                                                                                                                                           │
│       PoolStorage.UnstakeEntry(uint40(block.number), _amount.sub(fee))                                                                                                                                                                                │
│     );                                                                                                                                                                                                                                                │
│                                                                                                                                                                                                                                                       │
│     return ps.unstakeEntries.length - 1;                                                                                                                                                                                                              │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ No                                                                                                                                                                                                                                                    │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                                                          │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                                                      │
│ Code:                                                                                                                                                                                                                                                 │
│   function unstake(                                                                                                                                                                                                                                   │
│     uint256 _id,                                                                                                                                                                                                                                      │
│     address _receiver,                                                                                                                                                                                                                                │
│     IERC20 _token                                                                                                                                                                                                                                     │
│   ) external override returns (uint256 amount) {                                                                                                                                                                                                      │
│     PoolStorage.Base storage ps = baseData();                                                                                                                                                                                                         │
│     require(_receiver != address(0), 'RECEIVER');                                                                                                                                                                                                     │
│     GovStorage.Base storage gs = GovStorage.gs();                                                                                                                                                                                                     │
│     PoolStorage.UnstakeEntry memory withdraw = ps.unstakeEntries[_id];                                                                                                                                                                                │
│     require(withdraw.blockInitiated != 0, 'WITHDRAW_NOT_ACTIVE');                                                                                                                                                                                     │
│     // period is including                                                                                                                                                                                                                            │
│     require(withdraw.blockInitiated + gs.unstakeCooldown < uint40(block.number), 'COOLDOWN_ACTIVE');                                                                                                                                                  │
│     require(                                                                                                                                                                                                                                          │
│       withdraw.blockInitiated + gs.unstakeCooldown + gs.unstakeWindow >= uint40(block.number),                                                                                                                                                        │
│       'UNSTAKE_WINDOW_EXPIRED'                                                                                                                                                                                                                        │
│     );                                                                                                                                                                                                                                                │
│     amount = withdraw.lock.mul(LibPool.stakeBalance(ps)).div(ps.lockToken.totalSupply());                                                                                                                                                             │
│                                                                                                                                                                                                                                                       │
│     ps.stakeBalance = ps.stakeBalance.sub(amount);                                                                                                                                                                                                    │
│     delete ps.unstakeEntries[_id];                                                                                                                                                                                                                    │
│     ps.lockToken.burn(address(this), withdraw.lock);                                                                                                                                                                                                  │
│     _token.safeTransfer(_receiver, amount);                                                                                                                                                                                                           │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "Yes", "2": "No"}                                                                                                                                                                                                                               │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price based on the market reserves/AMMprice/exchangeRate OR the custom token balanceOf/totalSupply/amount/liquidity calculation                                                │
│ Code:                                                                                                                                                                                                                                                 │
│   function unstake(                                                                                                                                                                                                                                   │
│     uint256 _id,                                                                                                                                                                                                                                      │
│     address _receiver,                                                                                                                                                                                                                                │
│     IERC20 _token                                                                                                                                                                                                                                     │
│   ) external override returns (uint256 amount) {                                                                                                                                                                                                      │
│     PoolStorage.Base storage ps = baseData();                                                                                                                                                                                                         │
│     require(_receiver != address(0), 'RECEIVER');                                                                                                                                                                                                     │
│     GovStorage.Base storage gs = GovStorage.gs();                                                                                                                                                                                                     │
│     PoolStorage.UnstakeEntry memory withdraw = ps.unstakeEntries[_id];                                                                                                                                                                                │
│     require(withdraw.blockInitiated != 0, 'WITHDRAW_NOT_ACTIVE');                                                                                                                                                                                     │
│     // period is including                                                                                                                                                                                                                            │
│     require(withdraw.blockInitiated + gs.unstakeCooldown < uint40(block.number), 'COOLDOWN_ACTIVE');                                                                                                                                                  │
│     require(                                                                                                                                                                                                                                          │
│       withdraw.blockInitiated + gs.unstakeCooldown + gs.unstakeWindow >= uint40(block.number),                                                                                                                                                        │
│       'UNSTAKE_WINDOW_EXPIRED'                                                                                                                                                                                                                        │
│     );                                                                                                                                                                                                                                                │
│     amount = withdraw.lock.mul(LibPool.stakeBalance(ps)).div(ps.lockToken.totalSupply());                                                                                                                                                             │
│                                                                                                                                                                                                                                                       │
│     ps.stakeBalance = ps.stakeBalance.sub(amount);                                                                                                                                                                                                    │
│     delete ps.unstakeEntries[_id];                                                                                                                                                                                                                    │
│     ps.lockToken.burn(address(this), withdraw.lock);                                                                                                                                                                                                  │
│     _token.safeTransfer(_receiver, amount);                                                                                                                                                                                                           │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Yes                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                                                          │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                                                      │
│ Code:                                                                                                                                                                                                                                                 │
│   function settleInternalSupply(uint256 _deduct) external {                                                                                                                                                                                           │
│     SherXStorage.Base storage sx = SherXStorage.sx();                                                                                                                                                                                                 │
│     sx.internalTotalSupply = getTotalSherX().sub(_deduct);                                                                                                                                                                                            │
│     sx.internalTotalSupplySettled = block.number;                                                                                                                                                                                                     │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "No", "2": "No"}                                                                                                                                                                                                                                │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                                                          │
│ have inside code statements that update/accrue interest/exchange rate,                                                                                                                                                                                │
│ Code:                                                                                                                                                                                                                                                 │
│   function stakeBalance(PoolStorage.Base storage ps) public view returns (uint256) {                                                                                                                                                                  │
│     uint256 balance = ps.stakeBalance;                                                                                                                                                                                                                │
│                                                                                                                                                                                                                                                       │
│     if (address(ps.strategy) != address(0)) {                                                                                                                                                                                                         │
│       balance = balance.add(ps.strategy.balanceOf());                                                                                                                                                                                                 │
│     }                                                                                                                                                                                                                                                 │
│                                                                                                                                                                                                                                                       │
│     return balance.sub(ps.firstMoneyOut);                                                                                                                                                                                                             │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "No", "2": "No"}                                                                                                                                                                                                                                │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                                                          │
│ Code:                                                                                                                                                                                                                                                 │
│   function stake(                                                                                                                                                                                                                                     │
│     PoolStorage.Base storage ps,                                                                                                                                                                                                                      │
│     uint256 _amount,                                                                                                                                                                                                                                  │
│     address _receiver                                                                                                                                                                                                                                 │
│   ) external returns (uint256 lock) {                                                                                                                                                                                                                 │
│     uint256 totalLock = ps.lockToken.totalSupply();                                                                                                                                                                                                   │
│     if (totalLock == 0) {                                                                                                                                                                                                                             │
│       // mint initial lock                                                                                                                                                                                                                            │
│       lock = 10**18;                                                                                                                                                                                                                                  │
│     } else {                                                                                                                                                                                                                                          │
│       // mint lock based on funds in pool                                                                                                                                                                                                             │
│       lock = _amount.mul(totalLock).div(stakeBalance(ps));                                                                                                                                                                                            │
│     }                                                                                                                                                                                                                                                 │
│     ps.stakeBalance = ps.stakeBalance.add(_amount);                                                                                                                                                                                                   │
│     ps.lockToken.mint(_receiver, lock);                                                                                                                                                                                                               │
│   }                                                                                                                                                                                                                                                   │
│   function stakeBalance(PoolStorage.Base storage ps) public view returns (uint256) {                                                                                                                                                                  │
│     uint256 balance = ps.stakeBalance;                                                                                                                                                                                                                │
│                                                                                                                                                                                                                                                       │
│     if (address(ps.strategy) != address(0)) {                                                                                                                                                                                                         │
│       balance = balance.add(ps.strategy.balanceOf());                                                                                                                                                                                                 │
│     }                                                                                                                                                                                                                                                 │
│                                                                                                                                                                                                                                                       │
│     return balance.sub(ps.firstMoneyOut);                                                                                                                                                                                                             │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "No"}                                                                                                                                                                                                                                           │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                                                          │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                                                      │
│ Code:                                                                                                                                                                                                                                                 │
│   function getUnallocatedSherXFor(address _user, IERC20 _token)                                                                                                                                                                                       │
│     external                                                                                                                                                                                                                                          │
│     view                                                                                                                                                                                                                                              │
│     returns (uint256 withdrawable_amount)                                                                                                                                                                                                             │
│   {                                                                                                                                                                                                                                                   │
│     PoolStorage.Base storage ps = PoolStorage.ps(_token);                                                                                                                                                                                             │
│                                                                                                                                                                                                                                                       │
│     uint256 userAmount = ps.lockToken.balanceOf(_user);                                                                                                                                                                                               │
│     uint256 totalAmount = ps.lockToken.totalSupply();                                                                                                                                                                                                 │
│     if (totalAmount == 0) {                                                                                                                                                                                                                           │
│       return 0;                                                                                                                                                                                                                                       │
│     }                                                                                                                                                                                                                                                 │
│                                                                                                                                                                                                                                                       │
│     uint256 raw_amount =                                                                                                                                                                                                                              │
│       ps.sWeight.add(getTotalUnmintedSherX(_token)).mul(userAmount).div(totalAmount);                                                                                                                                                                 │
│     withdrawable_amount = raw_amount.sub(ps.sWithdrawn[_user]);                                                                                                                                                                                       │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "Yes", "2": "No"}                                                                                                                                                                                                                               │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price based on the market reserves/AMMprice/exchangeRate OR the custom token balanceOf/totalSupply/amount/liquidity calculation                                                │
│ Code:                                                                                                                                                                                                                                                 │
│   function getUnallocatedSherXFor(address _user, IERC20 _token)                                                                                                                                                                                       │
│     external                                                                                                                                                                                                                                          │
│     view                                                                                                                                                                                                                                              │
│     returns (uint256 withdrawable_amount)                                                                                                                                                                                                             │
│   {                                                                                                                                                                                                                                                   │
│     PoolStorage.Base storage ps = PoolStorage.ps(_token);                                                                                                                                                                                             │
│                                                                                                                                                                                                                                                       │
│     uint256 userAmount = ps.lockToken.balanceOf(_user);                                                                                                                                                                                               │
│     uint256 totalAmount = ps.lockToken.totalSupply();                                                                                                                                                                                                 │
│     if (totalAmount == 0) {                                                                                                                                                                                                                           │
│       return 0;                                                                                                                                                                                                                                       │
│     }                                                                                                                                                                                                                                                 │
│                                                                                                                                                                                                                                                       │
│     uint256 raw_amount =                                                                                                                                                                                                                              │
│       ps.sWeight.add(getTotalUnmintedSherX(_token)).mul(userAmount).div(totalAmount);                                                                                                                                                                 │
│     withdrawable_amount = raw_amount.sub(ps.sWithdrawn[_user]);                                                                                                                                                                                       │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Yes                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────── Multiple Choice Scenarios ──────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: have code statements that get or calculate LP token's value/price                                                                                                                                                                          │
│ deposit/mint/add the liquidity pool/amount/share                                                                                                                                                                                                      │
│ Code:                                                                                                                                                                                                                                                 │
│   function stake(                                                                                                                                                                                                                                     │
│     PoolStorage.Base storage ps,                                                                                                                                                                                                                      │
│     uint256 _amount,                                                                                                                                                                                                                                  │
│     address _receiver                                                                                                                                                                                                                                 │
│   ) external returns (uint256 lock) {                                                                                                                                                                                                                 │
│     uint256 totalLock = ps.lockToken.totalSupply();                                                                                                                                                                                                   │
│     if (totalLock == 0) {                                                                                                                                                                                                                             │
│       // mint initial lock                                                                                                                                                                                                                            │
│       lock = 10**18;                                                                                                                                                                                                                                  │
│     } else {                                                                                                                                                                                                                                          │
│       // mint lock based on funds in pool                                                                                                                                                                                                             │
│       lock = _amount.mul(totalLock).div(stakeBalance(ps));                                                                                                                                                                                            │
│     }                                                                                                                                                                                                                                                 │
│     ps.stakeBalance = ps.stakeBalance.add(_amount);                                                                                                                                                                                                   │
│     ps.lockToken.mint(_receiver, lock);                                                                                                                                                                                                               │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"1": "No", "2": "Yes"}                                                                                                                                                                                                                               │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭─────────────────────────────────────────────────────────────────────────────────────────────────────────────── Single Choice Scenario ────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Knowledge: deposit/mint/add the liquidity pool/amount/share and set the total share to the number of first deposit when the supply/liquidity is 0                                                                                                     │
│ Code:                                                                                                                                                                                                                                                 │
│   function stake(                                                                                                                                                                                                                                     │
│     PoolStorage.Base storage ps,                                                                                                                                                                                                                      │
│     uint256 _amount,                                                                                                                                                                                                                                  │
│     address _receiver                                                                                                                                                                                                                                 │
│   ) external returns (uint256 lock) {                                                                                                                                                                                                                 │
│     uint256 totalLock = ps.lockToken.totalSupply();                                                                                                                                                                                                   │
│     if (totalLock == 0) {                                                                                                                                                                                                                             │
│       // mint initial lock                                                                                                                                                                                                                            │
│       lock = 10**18;                                                                                                                                                                                                                                  │
│     } else {                                                                                                                                                                                                                                          │
│       // mint lock based on funds in pool                                                                                                                                                                                                             │
│       lock = _amount.mul(totalLock).div(stakeBalance(ps));                                                                                                                                                                                            │
│     }                                                                                                                                                                                                                                                 │
│     ps.stakeBalance = ps.stakeBalance.add(_amount);                                                                                                                                                                                                   │
│     ps.lockToken.mint(_receiver, lock);                                                                                                                                                                                                               │
│   }                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Yes                                                                                                                                                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"VariableA":{"_currentTotalSupply":"This variable holds the total supply of the custom token."}, "VariableB":{"sx.sherXPerBlock":"This variable holds the calculated value/price of LP token."}}                                                     │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
[12/08/24 16:32:55] ERROR    tasks: Static analysis failed: Invalid args                                                                                                                                                                     tasks.py:258
                    ERROR    tasks: Current File: /home/owen/Documents/GitHub/GPTScan-Bigger-Model/eval_data/2021-07-sherlock-main/contracts/facets/Manager.sol, current function: _setData, current vul: price-manipulation                 tasks.py:260
                    ERROR    tasks: Traceback (most recent call last):                                                                                                                                                                       tasks.py:262
                               File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/src/tasks.py", line 254, in simple_cli                                                                                                                             
                                 res_1 = static_check.run_static_check(checker, args, function1, falcon_instance,                                                                                                                                        
                             UnboundLocalError: local variable 'falcon_instance' referenced before assignment                                                                                                                                            
                                                                                                                                                                                                                                                         
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"VariableA":{}, "VariableB":{}}                                                                                                                                                                                                                      │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
[12/08/24 16:32:56] ERROR    tasks: Static analysis failed: Invalid args                                                                                                                                                                     tasks.py:357
                    ERROR    tasks: Current File: /home/owen/Documents/GitHub/GPTScan-Bigger-Model/eval_data/2021-07-sherlock-main/contracts/facets/Manager.sol, current function: _setData, current vul: price-manipulation                 tasks.py:359
                    ERROR    tasks: Traceback (most recent call last):                                                                                                                                                                       tasks.py:361
                               File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/src/tasks.py", line 355, in simple_cli                                                                                                                             
                                 falcon_instance, function2_text)                                                                                                                                                                                        
                             UnboundLocalError: local variable 'falcon_instance' referenced before assignment                                                                                                                                            
                                                                                                                                                                                                                                                         
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"VariableA":{}, "VariableB":{}}                                                                                                                                                                                                                      │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
[12/08/24 16:32:57] ERROR    tasks: Static analysis failed: Invalid args                                                                                                                                                                     tasks.py:357
                    ERROR    tasks: Current File: /home/owen/Documents/GitHub/GPTScan-Bigger-Model/eval_data/2021-07-sherlock-main/contracts/facets/Manager.sol, current function: _setData, current vul: price-manipulation                 tasks.py:359
                    ERROR    tasks: Traceback (most recent call last):                                                                                                                                                                       tasks.py:361
                               File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/src/tasks.py", line 355, in simple_cli                                                                                                                             
                                 falcon_instance, function2_text)                                                                                                                                                                                        
                             UnboundLocalError: local variable 'falcon_instance' referenced before assignment                                                                                                                                            
                                                                                                                                                                                                                                                         
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"VariableA":{"ps.lockToken.totalSupply":"This is the total supply of the lock tokens", "ps.lockToken.balanceOf":"This is the balance of the lock tokens held by the staker", "getStakersPoolBalance":"This function calculates the balance of the    │
│ staker's pool"}, "VariableB":{"getStakerPoolBalance":"This function calculates the balance of the staker's pool in terms of the lock tokens"}}                                                                                                        │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
[12/08/24 16:32:59] ERROR    tasks: Static analysis failed: Invalid args                                                                                                                                                                     tasks.py:258
                    ERROR    tasks: Current File: /home/owen/Documents/GitHub/GPTScan-Bigger-Model/eval_data/2021-07-sherlock-main/contracts/facets/PoolBase.sol, current function: getStakerPoolBalance, current vul: price-manipulation    tasks.py:260
                    ERROR    tasks: Traceback (most recent call last):                                                                                                                                                                       tasks.py:262
                               File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/src/tasks.py", line 209, in simple_cli                                                                                                                             
                                 raise Exception(                                                                                                                                                                                                        
                             Exception: The description of variable did not pass the `validate_description` validation                                                                                                                                   
                                                                                                                                                                                                                                                         
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"VariableA":{"ps.lockToken.totalSupply":"This is the total supply of the lockToken. It represents the total liquidity in the pool.", "ps.lockToken.balanceOf":"This is the balance of the user's lockToken. It represents the amount of liquidity    │
│ provided by the user."}, "VariableB":{"getTotalSherXPerBlock":"This function calculates the SherX per block. It represents the reward rate of the SherX token per block."}}                                                                           │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
[12/08/24 16:33:02] ERROR    tasks: Static analysis failed: Invalid args                                                                                                                                                                     tasks.py:258
                    ERROR    tasks: Current File: /home/owen/Documents/GitHub/GPTScan-Bigger-Model/eval_data/2021-07-sherlock-main/contracts/facets/PoolBase.sol, current function: getSherXPerBlock, current vul: price-manipulation        tasks.py:260
                    ERROR    tasks: Traceback (most recent call last):                                                                                                                                                                       tasks.py:262
                               File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/src/tasks.py", line 254, in simple_cli                                                                                                                             
                                 res_1 = static_check.run_static_check(checker, args, function1, falcon_instance,                                                                                                                                        
                             UnboundLocalError: local variable 'falcon_instance' referenced before assignment                                                                                                                                            
                                                                                                                                                                                                                                                         
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"VariableA":{"balance":"This variable holds the balance of the stake in the pool","totalLock":"This variable holds the total supply of the lock token"}, "VariableB":{"_amount":"This variable holds the calculated value of LP token"}}             │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
[12/08/24 16:33:04] ERROR    tasks: Static analysis failed: Invalid args                                                                                                                                                                     tasks.py:258
                    ERROR    tasks: Current File: /home/owen/Documents/GitHub/GPTScan-Bigger-Model/eval_data/2021-07-sherlock-main/contracts/facets/PoolBase.sol, current function: LockToToken, current vul: price-manipulation             tasks.py:260
                    ERROR    tasks: Traceback (most recent call last):                                                                                                                                                                       tasks.py:262
                               File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/src/tasks.py", line 254, in simple_cli                                                                                                                             
                                 res_1 = static_check.run_static_check(checker, args, function1, falcon_instance,                                                                                                                                        
                             UnboundLocalError: local variable 'falcon_instance' referenced before assignment                                                                                                                                            
                                                                                                                                                                                                                                                         
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"VariableA":{"Variable name":"balance", "Description":"This variable holds the balance of the custom token."}, "VariableB":{"Variable name":"totalLock", "Description":"This variable holds the calculated value/price of LP token."}}               │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
[12/08/24 16:33:06] ERROR    tasks: Static analysis failed: Invalid args                                                                                                                                                                     tasks.py:258
                    ERROR    tasks: Current File: /home/owen/Documents/GitHub/GPTScan-Bigger-Model/eval_data/2021-07-sherlock-main/contracts/facets/PoolBase.sol, current function: TokenToLock, current vul: price-manipulation             tasks.py:260
                    ERROR    tasks: Traceback (most recent call last):                                                                                                                                                                       tasks.py:262
                               File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/src/tasks.py", line 209, in simple_cli                                                                                                                             
                                 raise Exception(                                                                                                                                                                                                        
                             Exception: The description of variable did not pass the `validate_description` validation                                                                                                                                   
                                                                                                                                                                                                                                                         
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"VariableA":{"ps.stakeBalance":"This variable holds the total amount of tokens staked in the pool. It is used to calculate the amount of tokens to be unstaked.", "ps.lockToken.totalSupply()":"This function returns the total supply of the lock   │
│ tokens. It is used in the calculation of the amount of tokens to be unstaked.", "withdraw.lock":"This variable holds the amount of tokens to be unstaked by the user."}, "VariableB":{"amount":"This variable holds the calculated amount of tokens   │
│ to be unstaked by the user."}}                                                                                                                                                                                                                        │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
[12/08/24 16:33:09] ERROR    tasks: Static analysis failed: Invalid args                                                                                                                                                                     tasks.py:258
                    ERROR    tasks: Current File: /home/owen/Documents/GitHub/GPTScan-Bigger-Model/eval_data/2021-07-sherlock-main/contracts/facets/PoolBase.sol, current function: unstake, current vul: price-manipulation                 tasks.py:260
                    ERROR    tasks: Traceback (most recent call last):                                                                                                                                                                       tasks.py:262
                               File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/src/tasks.py", line 254, in simple_cli                                                                                                                             
                                 res_1 = static_check.run_static_check(checker, args, function1, falcon_instance,                                                                                                                                        
                             UnboundLocalError: local variable 'falcon_instance' referenced before assignment                                                                                                                                            
                                                                                                                                                                                                                                                         
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"VariableA":{"userAmount":"This variable holds the balance of the user for the specific token. It is calculated using the balanceOf function of the lockToken.","totalAmount":"This variable holds the total supply of the specific token. It is     │
│ calculated using the totalSupply function of the lockToken.","raw_amount":"This variable calculates the proportion of the user's tokens in relation to the total supply, and then multiplies it by the sum of the token's weight and the total        │
│ unminted SherX for the token."}, "VariableB":{"withdrawable_amount":"This variable holds the calculated amount of SherX that the user can withdraw. It is calculated by subtracting the amount of SherX already withdrawn by the user from the        │
│ raw_amount."}}                                                                                                                                                                                                                                        │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
[12/08/24 16:33:14] ERROR    tasks: Static analysis failed: Invalid args                                                                                                                                                                     tasks.py:258
                    ERROR    tasks: Current File: /home/owen/Documents/GitHub/GPTScan-Bigger-Model/eval_data/2021-07-sherlock-main/contracts/libraries/LibPool.sol, current function: getUnallocatedSherXFor, current vul:                   tasks.py:260
                             price-manipulation                                                                                                                                                                                                          
                    ERROR    tasks: Traceback (most recent call last):                                                                                                                                                                       tasks.py:262
                               File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/src/tasks.py", line 254, in simple_cli                                                                                                                             
                                 res_1 = static_check.run_static_check(checker, args, function1, falcon_instance,                                                                                                                                        
                             UnboundLocalError: local variable 'falcon_instance' referenced before assignment                                                                                                                                            
                                                                                                                                                                                                                                                         
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Response ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ {"VariableA":{"Variable name":"totalLock","Description":"This variable holds the total minted share or amount, which is the total supply of the lockToken in the pool storage."}, "VariableB":{"Variable name":"totalLock","Description":"This        │
│ variable holds the total supply/liquidity and is used by the conditional branch to determine if the supply/liquidity is 0."}, "VariableC":{"Variable name":"_amount","Description":"This variable holds the value of the deposit/mint/add amount."}}  │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
[12/08/24 16:33:20] ERROR    tasks: Static analysis failed: Invalid args                                                                                                                                                                     tasks.py:258
                    ERROR    tasks: Current File: /home/owen/Documents/GitHub/GPTScan-Bigger-Model/eval_data/2021-07-sherlock-main/contracts/libraries/LibPool.sol, current function: stake, current vul: first-deposit                      tasks.py:260
                    ERROR    tasks: Traceback (most recent call last):                                                                                                                                                                       tasks.py:262
                               File "/home/owen/Documents/GitHub/GPTScan-Bigger-Model/src/tasks.py", line 254, in simple_cli                                                                                                                             
                                 res_1 = static_check.run_static_check(checker, args, function1, falcon_instance,                                                                                                                                        
                             UnboundLocalError: local variable 'falcon_instance' referenced before assignment                                                                                                                                            
                                                                                                                                                                                                                                                         
                      Scan Results                       
┏━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━┓
┃ Type ┃ Description ┃ Affected Files ┃ Analysis Report ┃
┡━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━┩
└──────┴─────────────┴────────────────┴─────────────────┘
                  Summary                   
┏━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┓
┃ Key                  ┃ Value             ┃
┡━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━┩
│ Files                │ 45                │
│ Contracts            │ 46                │
│ Functions            │ 87                │
│ Lines of Code        │ 5319              │
│ Used Time            │ 74.80019855499268 │
│ Estimated Cost (USD) │ 0.0264865         │
└──────────────────────┴───────────────────┘
